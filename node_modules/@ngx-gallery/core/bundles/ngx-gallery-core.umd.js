(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('rxjs'), require('rxjs/operators'), require('@angular/core'), require('@angular/platform-browser'), require('@angular/animations'), require('@angular/common'), require('@angular/common/http')) :
    typeof define === 'function' && define.amd ? define('@ngx-gallery/core', ['exports', 'rxjs', 'rxjs/operators', '@angular/core', '@angular/platform-browser', '@angular/animations', '@angular/common', '@angular/common/http'], factory) :
    (factory((global['ngx-gallery'] = global['ngx-gallery'] || {}, global['ngx-gallery'].core = {}),global.rxjs,global.rxjs.operators,global.ng.core,global.ng.platformBrowser,global.ng.animations,global.ng.common,global.ng.common.http));
}(this, (function (exports,rxjs,operators,i0,platformBrowser,animations,common,http) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var GalleryAction = {
        INITIALIZED: 'initialized',
        ITEMS_CHANGED: 'itemsChanged',
        INDEX_CHANGED: 'indexChanged',
        PLAY: 'play',
        STOP: 'stop',
    };
    /** @enum {string} */
    var ImageSize = {
        Cover: 'cover',
        Contain: 'contain',
    };
    /** @enum {string} */
    var LoadingStrategy = {
        Preload: 'preload',
        Lazy: 'lazy',
        Default: 'default',
    };
    /** @enum {string} */
    var ThumbnailsPosition = {
        Top: 'top',
        Left: 'left',
        Right: 'right',
        Bottom: 'bottom',
    };
    /** @enum {string} */
    var ImageLoaderMode = {
        Determinate: 'determinate',
        Indeterminate: 'indeterminate',
    };
    /** @enum {string} */
    var DotsPosition = {
        Top: 'top',
        Bottom: 'bottom',
    };
    /** @enum {string} */
    var CounterPosition = {
        Top: 'top',
        Bottom: 'bottom',
    };
    /** @enum {string} */
    var ThumbnailsMode = {
        Free: 'free',
        Strict: 'strict',
    };
    /** @enum {string} */
    var SlidingDirection = {
        Horizontal: 'horizontal',
        Vertical: 'vertical',
    };
    /** @enum {string} */
    var GalleryItemType = {
        Image: 'image',
        Video: 'video',
        Youtube: 'youtube',
        Iframe: 'iframe',
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /**
     * Initial state
     * @type {?}
     */
    var defaultState = {
        action: GalleryAction.INITIALIZED,
        isPlaying: false,
        hasNext: false,
        hasPrev: false,
        currIndex: 0,
        items: []
    };
    /** @type {?} */
    var defaultConfig = {
        nav: true,
        loop: true,
        zoomOut: 0,
        dots: false,
        thumb: true,
        dotsSize: 30,
        counter: true,
        gestures: true,
        autoPlay: false,
        thumbWidth: 120,
        thumbHeight: 90,
        panSensitivity: 25,
        disableThumb: false,
        playerInterval: 3000,
        imageSize: ImageSize.Contain,
        thumbMode: ThumbnailsMode.Strict,
        dotsPosition: DotsPosition.Bottom,
        counterPosition: CounterPosition.Top,
        thumbPosition: ThumbnailsPosition.Bottom,
        loadingMode: ImageLoaderMode.Determinate,
        loadingStrategy: LoadingStrategy.Default,
        slidingDirection: SlidingDirection.Horizontal,
        navIcon: "<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"512px\" height=\"512px\" enable-background=\"new 0 0 240.823 240.823\" version=\"1.1\" viewBox=\"0 0 240.823 240.823\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z\" fill=\"#fff\"/></svg>",
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var ImageItem = /** @class */ (function () {
        function ImageItem(data) {
            this.data = data;
            this.type = GalleryItemType.Image;
        }
        return ImageItem;
    }());
    var VideoItem = /** @class */ (function () {
        function VideoItem(data) {
            this.data = data;
            this.type = GalleryItemType.Video;
        }
        return VideoItem;
    }());
    var IframeItem = /** @class */ (function () {
        function IframeItem(data) {
            this.data = data;
            this.type = GalleryItemType.Iframe;
        }
        return IframeItem;
    }());
    var YoutubeItem = /** @class */ (function () {
        function YoutubeItem(data) {
            this.data = {
                src: "//youtube.com/embed/" + data.src + "?wmode=transparent",
                thumb: data.thumb ? data.thumb : "//img.youtube.com/vi/" + data.src + "/default.jpg"
            };
            this.type = GalleryItemType.Youtube;
        }
        return YoutubeItem;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /** @type {?} */
    var filterActions = function (actions) {
        return operators.filter(function (state) { return actions.indexOf(state.action) > -1; });
    };
    var GalleryRef = /** @class */ (function () {
        function GalleryRef(config, deleteInstance) {
            this.deleteInstance = deleteInstance;
            /**
             * Stream that emits on item click
             */
            this.itemClick = new rxjs.Subject();
            /**
             * Stream that emits on thumbnail click
             */
            this.thumbClick = new rxjs.Subject();
            /**
             * Stream that emits on an error occurs
             */
            this.error = new rxjs.Subject();
            this._state = new rxjs.BehaviorSubject(defaultState);
            this._config = new rxjs.BehaviorSubject(config);
            this.state = this._state.asObservable();
            this.config = this._config.asObservable();
        }
        Object.defineProperty(GalleryRef.prototype, "initialized", {
            /** Stream that emits when gallery is initialized/reset */
            get: /**
             * Stream that emits when gallery is initialized/reset
             * @return {?}
             */ function () {
                return this.state.pipe(filterActions([GalleryAction.INITIALIZED]));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryRef.prototype, "itemsChanged", {
            /** Stream that emits when items is changed (items loaded, item added, item removed) */
            get: /**
             * Stream that emits when items is changed (items loaded, item added, item removed)
             * @return {?}
             */ function () {
                return this.state.pipe(filterActions([GalleryAction.ITEMS_CHANGED]));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryRef.prototype, "indexChanged", {
            /** Stream that emits when current item is changed */
            get: /**
             * Stream that emits when current item is changed
             * @return {?}
             */ function () {
                return this.state.pipe(filterActions([GalleryAction.INDEX_CHANGED]));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryRef.prototype, "playingChanged", {
            /** Stream that emits when the player should start or stop */
            get: /**
             * Stream that emits when the player should start or stop
             * @return {?}
             */ function () {
                return this.state.pipe(filterActions([GalleryAction.PLAY, GalleryAction.STOP]));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryRef.prototype, "playerActions", {
            /** Stream that emits when the player should start or stop */
            get: /**
             * Stream that emits when the player should start or stop
             * @return {?}
             */ function () {
                return this.state.pipe(filterActions([GalleryAction.PLAY, GalleryAction.STOP, GalleryAction.INDEX_CHANGED]));
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Activate player actions listener
         */
        /**
         * Activate player actions listener
         * @return {?}
         */
        GalleryRef.prototype.activatePlayer = /**
         * Activate player actions listener
         * @return {?}
         */
            function () {
                var _this = this;
                return this.playerActions.pipe(operators.switchMap(function (e) {
                    return e.isPlaying ? rxjs.of({}).pipe(operators.delay(_this._config.value.playerInterval), operators.tap(function () { return _this.next(); })) : rxjs.EMPTY;
                }));
            };
        /**
         * Set gallery state
         * @param state
         */
        /**
         * Set gallery state
         * @param {?} state
         * @return {?}
         */
        GalleryRef.prototype.setState = /**
         * Set gallery state
         * @param {?} state
         * @return {?}
         */
            function (state) {
                this._state.next(__assign({}, this._state.value, state));
            };
        /**
         * Set gallery config
         * @param config
         */
        /**
         * Set gallery config
         * @param {?} config
         * @return {?}
         */
        GalleryRef.prototype.setConfig = /**
         * Set gallery config
         * @param {?} config
         * @return {?}
         */
            function (config) {
                this._config.next(__assign({}, this._config.value, config));
            };
        /** Add gallery item
         * @param item - Gallery item object
         * @param active - Set the new item as current slide
         */
        /**
         * Add gallery item
         * @param {?} item - Gallery item object
         * @param {?=} active - Set the new item as current slide
         * @return {?}
         */
        GalleryRef.prototype.add = /**
         * Add gallery item
         * @param {?} item - Gallery item object
         * @param {?=} active - Set the new item as current slide
         * @return {?}
         */
            function (item, active) {
                /** @type {?} */
                var items = __spread(this._state.value.items, [item]);
                this.setState({
                    action: GalleryAction.ITEMS_CHANGED,
                    items: items,
                    hasNext: items.length > 1,
                    currIndex: active ? items.length - 1 : this._state.value.currIndex
                });
            };
        /**
         * Add image item
         * @param data
         * @param active
         */
        /**
         * Add image item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryRef.prototype.addImage = /**
         * Add image item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new ImageItem(data), active);
            };
        /**
         * Add video item
         * @param data
         * @param active
         */
        /**
         * Add video item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryRef.prototype.addVideo = /**
         * Add video item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new VideoItem(data), active);
            };
        /**
         * Add iframe item
         * @param data
         * @param active
         */
        /**
         * Add iframe item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryRef.prototype.addIframe = /**
         * Add iframe item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new IframeItem(data), active);
            };
        /**
         * Add youtube item
         * @param data
         * @param active
         */
        /**
         * Add youtube item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryRef.prototype.addYoutube = /**
         * Add youtube item
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new YoutubeItem(data), active);
            };
        /** Remove gallery item
         * @param i - Item index
         */
        /**
         * Remove gallery item
         * @param {?} i - Item index
         * @return {?}
         */
        GalleryRef.prototype.remove = /**
         * Remove gallery item
         * @param {?} i - Item index
         * @return {?}
         */
            function (i) {
                /** @type {?} */
                var items = __spread(this._state.value.items.slice(0, i), this._state.value.items.slice(i + 1, this._state.value.items.length));
                this.setState({
                    action: GalleryAction.ITEMS_CHANGED,
                    items: items,
                    hasNext: items.length > 1,
                    hasPrev: i > 0
                });
            };
        /**
         * Load items and reset the state
         * @param items - Gallery images data
         */
        /**
         * Load items and reset the state
         * @param {?} items - Gallery images data
         * @return {?}
         */
        GalleryRef.prototype.load = /**
         * Load items and reset the state
         * @param {?} items - Gallery images data
         * @return {?}
         */
            function (items) {
                if (items) {
                    this.setState({
                        action: GalleryAction.ITEMS_CHANGED,
                        items: items,
                        hasNext: items.length > 1,
                        hasPrev: false
                    });
                }
            };
        /**
         * Set active item
         * @param i - Active Index
         */
        /**
         * Set active item
         * @param {?} i - Active Index
         * @return {?}
         */
        GalleryRef.prototype.set = /**
         * Set active item
         * @param {?} i - Active Index
         * @return {?}
         */
            function (i) {
                if (i !== this._state.value.currIndex) {
                    this.setState({
                        action: GalleryAction.INDEX_CHANGED,
                        currIndex: i,
                        hasNext: i < this._state.value.items.length - 1,
                        hasPrev: i > 0
                    });
                }
            };
        /**
         * Next item
         */
        /**
         * Next item
         * @return {?}
         */
        GalleryRef.prototype.next = /**
         * Next item
         * @return {?}
         */
            function () {
                if (this._state.value.hasNext) {
                    this.set(this._state.value.currIndex + 1);
                }
                else if (this._config.value.loop) {
                    this.set(0);
                }
            };
        /**
         * Prev item
         */
        /**
         * Prev item
         * @return {?}
         */
        GalleryRef.prototype.prev = /**
         * Prev item
         * @return {?}
         */
            function () {
                if (this._state.value.hasPrev) {
                    this.set(this._state.value.currIndex - 1);
                }
                else if (this._config.value.loop) {
                    this.set(this._state.value.items.length - 1);
                }
            };
        /**
         * Start gallery player
         * @param interval
         */
        /**
         * Start gallery player
         * @param {?=} interval
         * @return {?}
         */
        GalleryRef.prototype.play = /**
         * Start gallery player
         * @param {?=} interval
         * @return {?}
         */
            function (interval) {
                if (interval) {
                    this.setConfig({ playerInterval: interval });
                }
                this.setState({ action: GalleryAction.PLAY, isPlaying: true });
            };
        /**
         * Stop gallery player
         */
        /**
         * Stop gallery player
         * @return {?}
         */
        GalleryRef.prototype.stop = /**
         * Stop gallery player
         * @return {?}
         */
            function () {
                this.setState({ action: GalleryAction.STOP, isPlaying: false });
            };
        /**
         * Reset gallery to initial state
         */
        /**
         * Reset gallery to initial state
         * @return {?}
         */
        GalleryRef.prototype.reset = /**
         * Reset gallery to initial state
         * @return {?}
         */
            function () {
                this.setState(defaultState);
            };
        /**
         * Destroy gallery
         */
        /**
         * Destroy gallery
         * @return {?}
         */
        GalleryRef.prototype.destroy = /**
         * Destroy gallery
         * @return {?}
         */
            function () {
                this._state.complete();
                this._config.complete();
                this.itemClick.complete();
                this.thumbClick.complete();
                this.deleteInstance();
            };
        return GalleryRef;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /** @type {?} */
    var GALLERY_CONFIG = new i0.InjectionToken('galleryConfig');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var Gallery = /** @class */ (function () {
        function Gallery(config) {
            /**
             * Store gallery instances
             */
            this._instances = new Map();
            this.config = config ? __assign({}, defaultConfig, config) : defaultConfig;
        }
        /**
         * Get or create gallery by ID
         * @param id
         * @param config
         */
        /**
         * Get or create gallery by ID
         * @param {?=} id
         * @param {?=} config
         * @return {?}
         */
        Gallery.prototype.ref = /**
         * Get or create gallery by ID
         * @param {?=} id
         * @param {?=} config
         * @return {?}
         */
            function (id, config) {
                if (id === void 0) {
                    id = 'root';
                }
                if (this._instances.has(id)) {
                    /** @type {?} */
                    var galleryRef = this._instances.get(id);
                    if (config) {
                        galleryRef.setConfig(__assign({}, this.config, config));
                    }
                    return galleryRef;
                }
                else {
                    return this._instances.set(id, new GalleryRef(__assign({}, this.config, config), this.deleteInstance(id))).get(id);
                }
            };
        /**
         * Destroy all gallery instances
         */
        /**
         * Destroy all gallery instances
         * @return {?}
         */
        Gallery.prototype.destroyAll = /**
         * Destroy all gallery instances
         * @return {?}
         */
            function () {
                this._instances.forEach(function (ref) { return ref.destroy(); });
            };
        /**
         * Reset all gallery instances
         */
        /**
         * Reset all gallery instances
         * @return {?}
         */
        Gallery.prototype.resetAll = /**
         * Reset all gallery instances
         * @return {?}
         */
            function () {
                this._instances.forEach(function (ref) { return ref.reset(); });
            };
        /**
         * A destroyer function for each gallery instance
         */
        /**
         * A destroyer function for each gallery instance
         * @param {?} id
         * @return {?}
         */
        Gallery.prototype.deleteInstance = /**
         * A destroyer function for each gallery instance
         * @param {?} id
         * @return {?}
         */
            function (id) {
                var _this = this;
                return function () {
                    if (_this._instances.has(id)) {
                        _this._instances.delete(id);
                    }
                };
            };
        Gallery.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] }
        ];
        /** @nocollapse */
        Gallery.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: i0.Optional }, { type: i0.Inject, args: [GALLERY_CONFIG,] }] }
            ];
        };
        /** @nocollapse */ Gallery.ngInjectableDef = i0.defineInjectable({ factory: function Gallery_Factory() { return new Gallery(i0.inject(GALLERY_CONFIG, 8)); }, token: Gallery, providedIn: "root" });
        return Gallery;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryComponent = /** @class */ (function () {
        function GalleryComponent(_gallery) {
            this._gallery = _gallery;
            this.nav = this._gallery.config.nav;
            this.dots = this._gallery.config.dots;
            this.loop = this._gallery.config.loop;
            this.thumb = this._gallery.config.thumb;
            this.zoomOut = this._gallery.config.zoomOut;
            this.counter = this._gallery.config.counter;
            this.dotsSize = this._gallery.config.dotsSize;
            this.autoPlay = this._gallery.config.autoPlay;
            this.gestures = this._gallery.config.gestures;
            this.thumbWidth = this._gallery.config.thumbWidth;
            this.thumbHeight = this._gallery.config.thumbHeight;
            this.disableThumb = this._gallery.config.disableThumb;
            this.panSensitivity = this._gallery.config.panSensitivity;
            this.playerInterval = this._gallery.config.playerInterval;
            this.itemTemplate = this._gallery.config.itemTemplate;
            this.thumbTemplate = this._gallery.config.thumbTemplate;
            this.thumbMode = this._gallery.config.thumbMode;
            this.imageSize = this._gallery.config.imageSize;
            this.dotsPosition = this._gallery.config.dotsPosition;
            this.counterPosition = this._gallery.config.counterPosition;
            this.slidingDirection = this._gallery.config.slidingDirection;
            this.loadingMode = this._gallery.config.loadingMode;
            this.loadingStrategy = this._gallery.config.loadingStrategy;
            this.thumbPosition = this._gallery.config.thumbPosition;
            // Inputs used by the lightbox
            /**
             * Destroy gallery ref on component destroy event
             */
            this.destroyRef = true;
            /**
             * Skip initializing the config with components inputs (Lightbox mode)
             */
            this.skipInitConfig = false;
            this.itemClick = new i0.EventEmitter();
            this.thumbClick = new i0.EventEmitter();
            this.playingChange = new i0.EventEmitter();
            this.indexChange = new i0.EventEmitter();
            this.itemsChange = new i0.EventEmitter();
            this.error = new i0.EventEmitter();
            this._itemClick$ = rxjs.Subscription.EMPTY;
            this._thumbClick$ = rxjs.Subscription.EMPTY;
            this._itemChange$ = rxjs.Subscription.EMPTY;
            this._indexChange$ = rxjs.Subscription.EMPTY;
            this._playingChange$ = rxjs.Subscription.EMPTY;
            this._playerListener$ = rxjs.Subscription.EMPTY;
        }
        /**
         * @return {?}
         */
        GalleryComponent.prototype.getConfig = /**
         * @return {?}
         */
            function () {
                return {
                    nav: this.nav,
                    dots: this.dots,
                    loop: this.loop,
                    thumb: this.thumb,
                    zoomOut: this.zoomOut,
                    counter: this.counter,
                    autoPlay: this.autoPlay,
                    gestures: this.gestures,
                    dotsSize: this.dotsSize,
                    imageSize: this.imageSize,
                    thumbMode: this.thumbMode,
                    thumbWidth: this.thumbWidth,
                    thumbHeight: this.thumbHeight,
                    loadingMode: this.loadingMode,
                    disableThumb: this.disableThumb,
                    dotsPosition: this.dotsPosition,
                    itemTemplate: this.itemTemplate,
                    thumbTemplate: this.thumbTemplate,
                    thumbPosition: this.thumbPosition,
                    panSensitivity: this.panSensitivity,
                    playerInterval: this.playerInterval,
                    counterPosition: this.counterPosition,
                    loadingStrategy: this.loadingStrategy,
                    slidingDirection: this.slidingDirection
                };
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.onAction = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                switch (i) {
                    case 'next':
                        this.galleryRef.next();
                        break;
                    case 'prev':
                        this.galleryRef.prev();
                        break;
                    default:
                        this.galleryRef.set(( /** @type {?} */(i)));
                }
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        GalleryComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.galleryRef) {
                    this.galleryRef.setConfig(this.getConfig());
                    if (changes.items && changes.items.currentValue !== changes.items.previousValue) {
                        this.load(this.items);
                    }
                }
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // Get gallery instance by id
                if (this.skipInitConfig) {
                    this.galleryRef = this._gallery.ref(this.id);
                }
                else {
                    this.galleryRef = this._gallery.ref(this.id, this.getConfig());
                }
                // Load gallery items
                this.load(this.items);
                // Activate player listener
                this._playerListener$ = this.galleryRef.activatePlayer().subscribe();
                // Subscribes to events on demand
                if (this.indexChange.observers.length) {
                    this._indexChange$ = this.galleryRef.indexChanged.subscribe(function (state) { return _this.indexChange.emit(state); });
                }
                if (this.itemsChange.observers.length) {
                    this._itemChange$ = this.galleryRef.itemsChanged.subscribe(function (state) { return _this.itemsChange.emit(state); });
                }
                if (this.playingChange.observers.length) {
                    this._playingChange$ = this.galleryRef.playingChanged.subscribe(function (state) { return _this.playingChange.emit(state); });
                }
                // Start playing if auto-play is set to true
                if (this.autoPlay) {
                    this.play();
                }
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._itemClick$.unsubscribe();
                this._thumbClick$.unsubscribe();
                this._itemChange$.unsubscribe();
                this._indexChange$.unsubscribe();
                this._playingChange$.unsubscribe();
                this._playerListener$.unsubscribe();
                if (this.destroyRef) {
                    this.galleryRef.destroy();
                }
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.onItemClick = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                this.itemClick.emit(i);
                this.galleryRef.itemClick.next(i);
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.onThumbClick = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                this.galleryRef.set(i);
                this.thumbClick.emit(i);
                this.galleryRef.thumbClick.next(i);
            };
        /**
         * @param {?} err
         * @return {?}
         */
        GalleryComponent.prototype.onError = /**
         * @param {?} err
         * @return {?}
         */
            function (err) {
                this.error.emit(err);
                this.galleryRef.error.next(err);
            };
        /**
         * @param {?} items
         * @return {?}
         */
        GalleryComponent.prototype.load = /**
         * @param {?} items
         * @return {?}
         */
            function (items) {
                this.galleryRef.load(items);
            };
        /**
         * @param {?} item
         * @param {?=} active
         * @return {?}
         */
        GalleryComponent.prototype.add = /**
         * @param {?} item
         * @param {?=} active
         * @return {?}
         */
            function (item, active) {
                this.galleryRef.add(item, active);
            };
        /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryComponent.prototype.addImage = /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new ImageItem(data), active);
            };
        /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryComponent.prototype.addVideo = /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new VideoItem(data), active);
            };
        /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryComponent.prototype.addIframe = /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new IframeItem(data), active);
            };
        /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
        GalleryComponent.prototype.addYoutube = /**
         * @param {?} data
         * @param {?=} active
         * @return {?}
         */
            function (data, active) {
                this.add(new YoutubeItem(data), active);
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.remove = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                this.galleryRef.remove(i);
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.next = /**
         * @return {?}
         */
            function () {
                this.galleryRef.next();
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.prev = /**
         * @return {?}
         */
            function () {
                this.galleryRef.prev();
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.set = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                this.galleryRef.set(i);
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.reset = /**
         * @return {?}
         */
            function () {
                this.galleryRef.reset();
            };
        /**
         * @param {?=} interval
         * @return {?}
         */
        GalleryComponent.prototype.play = /**
         * @param {?=} interval
         * @return {?}
         */
            function (interval) {
                this.galleryRef.play(interval);
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.stop = /**
         * @return {?}
         */
            function () {
                this.galleryRef.stop();
            };
        GalleryComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <gallery-core [state]=\"galleryRef.state | async\"\n                  [config]=\"galleryRef.config | async\"\n                  (action)=\"onAction($event)\"\n                  (itemClick)=\"onItemClick($event)\"\n                  (thumbClick)=\"onThumbClick($event)\"\n                  (error)=\"onError($event)\"></gallery-core>\n    <ng-content></ng-content>\n  ",
                        styles: ["::ng-deep gallery-core[dotsPosition=top] gallery-dots{top:0}::ng-deep gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}::ng-deep gallery-dots{margin:7px;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}::ng-deep .g-dot{cursor:pointer;z-index:20}::ng-deep .g-dot:hover .g-dot-inner{opacity:1}::ng-deep .g-dot-active .g-dot-inner{opacity:1;-webkit-transform:scale(1.5)!important;transform:scale(1.5)!important}::ng-deep .g-dot-inner{background-color:#fff;opacity:.6;width:30%;height:30%;border-radius:50%;box-shadow:0 0 1px #000;transition:.2s}::ng-deep .g-dot,::ng-deep .g-dot-inner,::ng-deep gallery-dots{display:flex;justify-content:center;align-items:center}::ng-deep .g-nav-next,::ng-deep .g-nav-prev{position:absolute;top:50%;width:30px;height:40px;cursor:pointer;z-index:999}::ng-deep .g-nav-next{right:.5em;-webkit-transform:translateY(-50%) perspective(1px);transform:translateY(-50%) perspective(1px)}::ng-deep .g-nav-prev{left:.5em;-webkit-transform:translateY(-50%) perspective(1px) scale(-1,-1);transform:translateY(-50%) perspective(1px) scale(-1,-1)}@media only screen and (max-width:480px){::ng-deep .g-nav-next{right:.2em}::ng-deep .g-nav-prev{left:.2em}}::ng-deep .g-items-container{height:100%}::ng-deep .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1);transition:transform .4s cubic-bezier(.5,0,.5,1),-webkit-transform .4s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}::ng-deep gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}::ng-deep gallery-thumbs{display:block;z-index:1;overflow:unset}::ng-deep .g-thumbs-container{position:relative;z-index:206;width:100%;height:100%;left:0;top:0;display:flex;overflow:unset}::ng-deep gallery-core[disableThumb=true] gallery-thumb{cursor:default}::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider{flex-direction:row;top:0;left:50%}::ng-deep gallery-core[thumbPosition=bottom] gallery-thumb,::ng-deep gallery-core[thumbPosition=top] gallery-thumb{padding:1px 0 1px 1px}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;top:50%;left:0}::ng-deep gallery-core[thumbPosition=left] gallery-thumb,::ng-deep gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}::ng-deep gallery-core[thumbPosition=top]{flex-direction:column}::ng-deep gallery-core[thumbPosition=left]{flex-direction:row}::ng-deep gallery-core[thumbPosition=right]{flex-direction:row-reverse}::ng-deep gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}::ng-deep gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}::ng-deep .g-thumb-loading{position:relative;overflow:hidden;height:100%;background-color:#262626}::ng-deep .g-thumb-loading::before{content:\"\";position:absolute;top:0;right:0;bottom:0;left:50%;z-index:1;width:500%;margin-left:-250%;-webkit-animation:.8s linear infinite phAnimation;animation:.8s linear infinite phAnimation;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@-webkit-keyframes phAnimation{0%{-webkit-transform:translate3d(-30%,0,0);transform:translate3d(-30%,0,0)}100%{-webkit-transform:translate3d(30%,0,0);transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{-webkit-transform:translate3d(-30%,0,0);transform:translate3d(-30%,0,0)}100%{-webkit-transform:translate3d(30%,0,0);transform:translate3d(30%,0,0)}}::ng-deep gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}::ng-deep gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}::ng-deep .g-counter{z-index:50;position:absolute;left:50%;-webkit-transform:translateX(-50%) perspective(1px);transform:translateX(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:#fff;background-color:rgba(0,0,0,.5)}::ng-deep gallery[gallerize] gallery-item{cursor:pointer}::ng-deep gallery-item,::ng-deep gallery-thumb{position:relative;height:100%;width:100%;display:block;overflow:hidden}::ng-deep gallery-item h2,::ng-deep gallery-item h4,::ng-deep gallery-thumb h2,::ng-deep gallery-thumb h4{color:coral;margin:0}::ng-deep gallery-item h2,::ng-deep gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}::ng-deep gallery-item h4,::ng-deep gallery-thumb h4{font-size:1.6em}::ng-deep gallery-item{z-index:10}::ng-deep gallery-item iframe,::ng-deep gallery-item video{position:absolute;width:100%;height:100%}::ng-deep gallery-thumb{opacity:.5;cursor:pointer;transition:opacity .3s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-thumb.g-active-thumb{opacity:1}::ng-deep .g-image-item{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}::ng-deep .g-image-error-message,::ng-deep .g-loading,::ng-deep .g-template{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}::ng-deep gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}::ng-deep gallery{position:relative;z-index:1;overflow:hidden;display:block;height:500px;background-color:#000}::ng-deep gallery *{box-sizing:border-box}::ng-deep gallery,::ng-deep gallery-core{position:relative;overflow:hidden}::ng-deep .g-box,::ng-deep .g-slider,::ng-deep gallery-core{display:flex;height:100%;width:100%}::ng-deep gallery[fluid]{-webkit-transform:translateX(-50vw);transform:translateX(-50vw);width:100vw;left:50%}::ng-deep gallery[fluid][fluid=false]{-webkit-transform:none;transform:none;width:initial;left:initial}::ng-deep .g-no-transition{transition:unset!important}::ng-deep .g-box,::ng-deep gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;flex:1;order:1;height:100%}::ng-deep .g-btn-close svg,::ng-deep gallery-nav svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 0 1px #000);filter:drop-shadow(0 0 1px #000);transition:opacity .2s linear;opacity:.6}::ng-deep .g-btn-close svg:hover,::ng-deep gallery-nav svg:hover{opacity:1}@-webkit-keyframes stroke-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%{-webkit-transform:rotate(1170deg);transform:rotate(1170deg)}50%{-webkit-transform:rotate(2340deg);transform:rotate(2340deg)}75%{-webkit-transform:rotate(3510deg);transform:rotate(3510deg)}100%{-webkit-transform:rotate(4680deg);transform:rotate(4680deg)}}@keyframes stroke-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%{-webkit-transform:rotate(1170deg);transform:rotate(1170deg)}50%{-webkit-transform:rotate(2340deg);transform:rotate(2340deg)}75%{-webkit-transform:rotate(3510deg);transform:rotate(3510deg)}100%{-webkit-transform:rotate(4680deg);transform:rotate(4680deg)}}::ng-deep radial-progress{display:block;position:relative}::ng-deep radial-progress svg{position:absolute;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);top:0;left:0;-webkit-transform-origin:center;transform-origin:center;overflow:visible}::ng-deep radial-progress circle{-webkit-transform-origin:center;transform-origin:center;stroke:#fff}::ng-deep radial-progress .radial-progress-meter,::ng-deep radial-progress .radial-progress-value{fill:none}::ng-deep radial-progress .radial-progress-meter{opacity:.3}::ng-deep radial-progress .radial-progress-value{transition:.2s linear;stroke-linecap:round}::ng-deep radial-progress[mode=indeterminate] svg{-webkit-animation:7s cubic-bezier(.87,.03,.33,1) infinite stroke-rotate;animation:7s cubic-bezier(.87,.03,.33,1) infinite stroke-rotate}"]
                    }] }
        ];
        /** @nocollapse */
        GalleryComponent.ctorParameters = function () {
            return [
                { type: Gallery }
            ];
        };
        GalleryComponent.propDecorators = {
            id: [{ type: i0.Input }],
            items: [{ type: i0.Input }],
            nav: [{ type: i0.Input }],
            dots: [{ type: i0.Input }],
            loop: [{ type: i0.Input }],
            thumb: [{ type: i0.Input }],
            zoomOut: [{ type: i0.Input }],
            counter: [{ type: i0.Input }],
            dotsSize: [{ type: i0.Input }],
            autoPlay: [{ type: i0.Input }],
            gestures: [{ type: i0.Input }],
            thumbWidth: [{ type: i0.Input }],
            thumbHeight: [{ type: i0.Input }],
            disableThumb: [{ type: i0.Input }],
            panSensitivity: [{ type: i0.Input }],
            playerInterval: [{ type: i0.Input }],
            itemTemplate: [{ type: i0.Input }],
            thumbTemplate: [{ type: i0.Input }],
            thumbMode: [{ type: i0.Input }],
            imageSize: [{ type: i0.Input }],
            dotsPosition: [{ type: i0.Input }],
            counterPosition: [{ type: i0.Input }],
            slidingDirection: [{ type: i0.Input }],
            loadingMode: [{ type: i0.Input }],
            loadingStrategy: [{ type: i0.Input }],
            thumbPosition: [{ type: i0.Input }],
            destroyRef: [{ type: i0.Input }],
            skipInitConfig: [{ type: i0.Input }],
            itemClick: [{ type: i0.Output }],
            thumbClick: [{ type: i0.Output }],
            playingChange: [{ type: i0.Output }],
            indexChange: [{ type: i0.Output }],
            itemsChange: [{ type: i0.Output }],
            error: [{ type: i0.Output }]
        };
        return GalleryComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryIframeComponent = /** @class */ (function () {
        function GalleryIframeComponent(_sanitizer) {
            this._sanitizer = _sanitizer;
        }
        Object.defineProperty(GalleryIframeComponent.prototype, "pauseVideo", {
            set: /**
             * @param {?} shouldPause
             * @return {?}
             */ function (shouldPause) {
                /** @type {?} */
                var iframe = this.iframe.nativeElement;
                if (shouldPause) {
                    /** @type {?} */
                    var src = iframe.src;
                    iframe.src = src;
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        GalleryIframeComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.iframeSrc = this._sanitizer.bypassSecurityTrustResourceUrl(this.src);
            };
        GalleryIframeComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-iframe',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <iframe #iframe\n            frameborder=\"0\"\n            allowfullscreen\n            [src]=\"iframeSrc\">\n    </iframe>\n  "
                    }] }
        ];
        /** @nocollapse */
        GalleryIframeComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer }
            ];
        };
        GalleryIframeComponent.propDecorators = {
            src: [{ type: i0.Input }],
            pauseVideo: [{ type: i0.Input, args: ['pause',] }],
            iframe: [{ type: i0.ViewChild, args: ['iframe',] }]
        };
        return GalleryIframeComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryImageComponent = /** @class */ (function () {
        function GalleryImageComponent(_sanitizer) {
            this._sanitizer = _sanitizer;
            /**
             * Stream that emits the state
             */
            this.state = new rxjs.BehaviorSubject('loading');
            /**
             * Progress value
             */
            this.progress = 0;
            /**
             * Image loader mode
             */
            this.mode = 'determinate';
            /**
             * Stream that emits when an error occurs
             */
            this.error = new i0.EventEmitter();
        }
        Object.defineProperty(GalleryImageComponent.prototype, "imageLoadSuccess", {
            get: /**
             * @return {?}
             */ function () {
                return !!this.imageUrl;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryImageComponent.prototype, "imageLoadFailed", {
            get: /**
             * @return {?}
             */ function () {
                return !!this.loadError;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        GalleryImageComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.loadingIcon) {
                    this.loaderTemplate = this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon);
                }
                if (this.loadingError) {
                    this.errorTemplate = this._sanitizer.bypassSecurityTrustHtml(this.loadingError);
                }
            };
        /**
         * @param {?} __0
         * @return {?}
         */
        GalleryImageComponent.prototype.onProgress = /**
         * @param {?} __0
         * @return {?}
         */
            function (_a) {
                var loaded = _a.loaded, total = _a.total;
                this.progress = loaded * 100 / total;
            };
        /**
         * @param {?} blobUrl
         * @return {?}
         */
        GalleryImageComponent.prototype.onLoaded = /**
         * @param {?} blobUrl
         * @return {?}
         */
            function (blobUrl) {
                var _this = this;
                this.imageUrl = this._sanitizer.bypassSecurityTrustStyle("url(" + blobUrl + ")");
                rxjs.animationFrameScheduler.schedule(function () { return _this.state.next('success'); });
            };
        /**
         * @param {?} err
         * @return {?}
         */
        GalleryImageComponent.prototype.onError = /**
         * @param {?} err
         * @return {?}
         */
            function (err) {
                var _this = this;
                this.loadError = err;
                rxjs.animationFrameScheduler.schedule(function () { return _this.state.next('failed'); });
                this.error.emit(err);
            };
        GalleryImageComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-image',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        animations: [
                            animations.trigger('fadeIn', [
                                animations.transition(':enter', [
                                    animations.style({ opacity: 0 }),
                                    animations.animate('300ms ease-in', animations.style({ opacity: 1 }))
                                ])
                            ])
                        ],
                        template: "\n    <ng-container [lazyImage]=\"src\"\n                  [mode]=\"mode\"\n                  (progress)=\"onProgress($event)\"\n                  (loaded)=\"onLoaded($event)\"\n                  (error)=\"onError($event)\"\n                  [ngSwitch]=\"state | async\">\n\n      <div *ngSwitchCase=\"'success'\"\n           @fadeIn\n           class=\"g-image-item\"\n           [style.backgroundImage]=\"imageUrl\">\n      </div>\n\n      <div *ngSwitchCase=\"'failed'\"\n           class=\"g-image-error-message\">\n        <div *ngIf=\"errorTemplate; else defaultError\"\n             [innerHTML]=\"errorTemplate\"></div>\n        <ng-template #defaultError>\n          <ng-container *ngIf=\"!isThumbnail; else isLarge\">\n            <h2>\u26A0</h2>\n            <p>Unable to load the image!</p>\n          </ng-container>\n          <ng-template #isLarge>\n            <h4>\u26A0</h4>\n          </ng-template>\n        </ng-template>\n      </div>\n\n      <ng-container *ngSwitchCase=\"'loading'\">\n        <div *ngIf=\"isThumbnail; else isLarge\" class=\"g-thumb-loading\"></div>\n        <ng-template #isLarge>\n          <div class=\"g-loading\">\n            <i *ngIf=\"loaderTemplate; else progressLoader\"\n               [innerHTML]=\"loaderTemplate\"></i>\n          </div>\n          <ng-template #progressLoader>\n            <radial-progress [value]=\"progress\" [mode]=\"mode\"></radial-progress>\n          </ng-template>\n        </ng-template>\n      </ng-container>\n    </ng-container>\n  "
                    }] }
        ];
        /** @nocollapse */
        GalleryImageComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer }
            ];
        };
        GalleryImageComponent.propDecorators = {
            mode: [{ type: i0.Input }],
            isThumbnail: [{ type: i0.Input }],
            src: [{ type: i0.Input }],
            loadingIcon: [{ type: i0.Input }],
            loadingError: [{ type: i0.Input }],
            error: [{ type: i0.Output }],
            imageLoadSuccess: [{ type: i0.HostBinding, args: ['class.g-image-loaded',] }],
            imageLoadFailed: [{ type: i0.HostBinding, args: ['class.g-image-error',] }]
        };
        return GalleryImageComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryVideoComponent = /** @class */ (function () {
        function GalleryVideoComponent() {
            /**
             * Stream that emits when an error occurs
             */
            this.error = new i0.EventEmitter();
        }
        Object.defineProperty(GalleryVideoComponent.prototype, "pauseVideo", {
            set: /**
             * @param {?} shouldPause
             * @return {?}
             */ function (shouldPause) {
                /** @type {?} */
                var video = this.video.nativeElement;
                if (shouldPause && !video.paused) {
                    video.pause();
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        GalleryVideoComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.src instanceof Array) {
                    // If video has multiple sources
                    this.videoSources = __spread(this.src);
                }
                else {
                    this.videoSources = [{ url: this.src }];
                }
            };
        GalleryVideoComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-video',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <video #video controls poster=\"{{poster}}\" (error)=\"error.emit($event)\">\n      <source *ngFor=\"let src of videoSources\" src=\"{{src?.url}}\" type=\"{{src?.type}}\"/>\n    </video>\n  "
                    }] }
        ];
        GalleryVideoComponent.propDecorators = {
            src: [{ type: i0.Input }],
            poster: [{ type: i0.Input }],
            pauseVideo: [{ type: i0.Input, args: ['pause',] }],
            error: [{ type: i0.Output }],
            video: [{ type: i0.ViewChild, args: ['video',] }]
        };
        return GalleryVideoComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryNavComponent = /** @class */ (function () {
        function GalleryNavComponent(_sanitizer) {
            this._sanitizer = _sanitizer;
            this.action = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        GalleryNavComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.navIcon = this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon);
            };
        GalleryNavComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-nav',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <i *ngIf=\"config.loop || state.hasPrev\"\n       class=\"g-nav-prev\"\n       aria-label=\"Previous\"\n       (tapClick)=\"action.emit('prev')\"\n       [innerHtml]=\"navIcon\"></i>\n\n    <i *ngIf=\"config.loop || state.hasNext\"\n       class=\"g-nav-next\"\n       aria-label=\"Next\"\n       (tapClick)=\"action.emit('next')\"\n       [innerHtml]=\"navIcon\"></i>\n  "
                    }] }
        ];
        /** @nocollapse */
        GalleryNavComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer }
            ];
        };
        GalleryNavComponent.propDecorators = {
            state: [{ type: i0.Input }],
            config: [{ type: i0.Input }],
            action: [{ type: i0.Output }]
        };
        return GalleryNavComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryCoreComponent = /** @class */ (function () {
        function GalleryCoreComponent() {
            this.action = new i0.EventEmitter();
            this.itemClick = new i0.EventEmitter();
            this.thumbClick = new i0.EventEmitter();
            this.error = new i0.EventEmitter();
        }
        Object.defineProperty(GalleryCoreComponent.prototype, "thumbPosition", {
            /** Set thumbnails position */
            get: /**
             * Set thumbnails position
             * @return {?}
             */ function () {
                return this.config.thumbPosition;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryCoreComponent.prototype, "slidingDirection", {
            /** Set sliding direction */
            get: /**
             * Set sliding direction
             * @return {?}
             */ function () {
                return this.config.slidingDirection;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryCoreComponent.prototype, "disableThumb", {
            /** Disable thumbnails clicks */
            get: /**
             * Disable thumbnails clicks
             * @return {?}
             */ function () {
                return this.config.disableThumb;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryCoreComponent.prototype, "imageSize", {
            /** Set gallery image size */
            get: /**
             * Set gallery image size
             * @return {?}
             */ function () {
                return this.config.imageSize;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryCoreComponent.prototype, "dotsPosition", {
            /** Set gallery dots position */
            get: /**
             * Set gallery dots position
             * @return {?}
             */ function () {
                return this.config.dotsPosition;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryCoreComponent.prototype, "counterPosition", {
            /** Set gallery counter position */
            get: /**
             * Set gallery counter position
             * @return {?}
             */ function () {
                return this.config.counterPosition;
            },
            enumerable: true,
            configurable: true
        });
        GalleryCoreComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-core',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <gallery-thumbs *ngIf=\"config.thumb\"\n                    [state]=\"state\"\n                    [config]=\"config\"\n                    (action)=\"action.emit($event)\"\n                    (thumbClick)=\"thumbClick.emit($event)\">\n    </gallery-thumbs>\n    <div class=\"g-box\">\n      <gallery-slider [state]=\"state\"\n                      [config]=\"config\"\n                      (action)=\"action.emit($event)\"\n                      (itemClick)=\"itemClick.emit($event)\"\n                      (error)=\"error.emit($event)\">\n\n        <gallery-nav *ngIf=\"config.nav && state.items.length > 1\"\n                     [state]=\"state\"\n                     [config]=\"config\"\n                     (action)=\"action.emit($event)\">\n        </gallery-nav>\n\n      </gallery-slider>\n\n      <gallery-dots *ngIf=\"config.dots\"\n                    [state]=\"state\"\n                    [config]=\"config\"\n                    (action)=\"action.emit($event)\">\n      </gallery-dots>\n\n      <gallery-counter *ngIf=\"config.counter\"\n                       [state]=\"state\">\n      </gallery-counter>\n    </div>\n  "
                    }] }
        ];
        GalleryCoreComponent.propDecorators = {
            state: [{ type: i0.Input }],
            config: [{ type: i0.Input }],
            action: [{ type: i0.Output }],
            itemClick: [{ type: i0.Output }],
            thumbClick: [{ type: i0.Output }],
            error: [{ type: i0.Output }],
            thumbPosition: [{ type: i0.HostBinding, args: ['attr.thumbPosition',] }],
            slidingDirection: [{ type: i0.HostBinding, args: ['attr.slidingDirection',] }],
            disableThumb: [{ type: i0.HostBinding, args: ['attr.disableThumb',] }],
            imageSize: [{ type: i0.HostBinding, args: ['attr.imageSize',] }],
            dotsPosition: [{ type: i0.HostBinding, args: ['attr.dotsPosition',] }],
            counterPosition: [{ type: i0.HostBinding, args: ['attr.counterPosition',] }]
        };
        return GalleryCoreComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryDotsComponent = /** @class */ (function () {
        function GalleryDotsComponent() {
            this.action = new i0.EventEmitter();
        }
        GalleryDotsComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-dots',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <div class=\"g-dot\"\n         *ngFor=\"let item of state.items; let i = index\"\n         [class.g-dot-active]=\"i === state.currIndex\"\n         [style.width.px]=\"config?.dotsSize\"\n         [style.height.px]=\"config?.dotsSize\"\n         (tapClick)=\"action.emit(i)\">\n      <div class=\"g-dot-inner\"></div>\n    </div>\n  "
                    }] }
        ];
        GalleryDotsComponent.propDecorators = {
            state: [{ type: i0.Input }],
            config: [{ type: i0.Input }],
            action: [{ type: i0.Output }]
        };
        return GalleryDotsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryThumbsComponent = /** @class */ (function () {
        function GalleryThumbsComponent(_el, _zone) {
            var _this = this;
            this._el = _el;
            this._zone = _zone;
            /**
             * Sliding worker
             */
            this._slidingWorker$ = new rxjs.BehaviorSubject({ value: 0, active: false });
            /**
             * Current slider position in free sliding mode
             */
            this._freeModeCurrentOffset = 0;
            /**
             * Stream that emits when the active item should change
             */
            this.action = new i0.EventEmitter();
            /**
             * Stream that emits when thumb is clicked
             */
            this.thumbClick = new i0.EventEmitter();
            /**
             * Stream that emits when an error occurs
             */
            this.error = new i0.EventEmitter();
            // Activate sliding worker
            this.sliderState$ = this._slidingWorker$.pipe(operators.map(function (state) {
                return ({
                    style: _this.getSliderStyles(state),
                    active: state.active
                });
            }));
        }
        /**
         * @return {?}
         */
        GalleryThumbsComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                // Refresh the slider
                this.updateSlider({ value: 0, active: false });
                this._freeModeCurrentOffset = 0;
            };
        /**
         * @return {?}
         */
        GalleryThumbsComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.config.gestures && !this.config.disableThumb && typeof Hammer !== 'undefined') {
                    /** @type {?} */
                    var direction = void 0;
                    switch (this.config.thumbPosition) {
                        case ThumbnailsPosition.Right:
                        case ThumbnailsPosition.Left:
                            direction = Hammer.DIRECTION_VERTICAL;
                            break;
                        case ThumbnailsPosition.Top:
                        case ThumbnailsPosition.Bottom:
                            direction = Hammer.DIRECTION_HORIZONTAL;
                            break;
                    }
                    // Activate gestures
                    this._hammer = new Hammer(this._el.nativeElement);
                    this._hammer.get('pan').set({ direction: direction });
                    this._zone.runOutsideAngular(function () {
                        // Move the slider
                        switch (_this.config.thumbMode) {
                            case ThumbnailsMode.Strict:
                                _this._hammer.on('pan', function (e) { return _this.strictMode(e); });
                                break;
                            case ThumbnailsMode.Free:
                                _this._hammer.on('pan', function (e) { return _this.freeMode(e); });
                        }
                    });
                }
            };
        /**
         * @return {?}
         */
        GalleryThumbsComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this._hammer) {
                    this._hammer.destroy();
                }
            };
        /**
         * Sliding strict mode
         */
        /**
         * Sliding strict mode
         * @param {?} e
         * @return {?}
         */
        GalleryThumbsComponent.prototype.strictMode = /**
         * Sliding strict mode
         * @param {?} e
         * @return {?}
         */
            function (e) {
                switch (this.config.thumbPosition) {
                    case ThumbnailsPosition.Right:
                    case ThumbnailsPosition.Left:
                        this.updateSlider({ value: e.deltaY, active: true });
                        if (e.isFinal) {
                            this.updateSlider({ value: 0, active: false });
                            this.verticalPan(e);
                        }
                        break;
                    case ThumbnailsPosition.Top:
                    case ThumbnailsPosition.Bottom:
                        this.updateSlider({ value: e.deltaX, active: true });
                        if (e.isFinal) {
                            this.updateSlider({ value: 0, active: false });
                            this.horizontalPan(e);
                        }
                }
            };
        /**
         * Sliding free mode
         */
        /**
         * Sliding free mode
         * @param {?} e
         * @return {?}
         */
        GalleryThumbsComponent.prototype.freeMode = /**
         * Sliding free mode
         * @param {?} e
         * @return {?}
         */
            function (e) {
                switch (this.config.thumbPosition) {
                    case ThumbnailsPosition.Right:
                    case ThumbnailsPosition.Left:
                        this.updateSlider({ value: this._freeModeCurrentOffset + e.deltaY, active: true });
                        if (e.isFinal) {
                            if (this.minFreeScrollExceeded(e.deltaY, this.config.thumbWidth, this.config.thumbHeight)) {
                                this._freeModeCurrentOffset = -(this.state.items.length - 1 - this.state.currIndex) * this.config.thumbHeight;
                            }
                            else if (this.maxFreeScrollExceeded(e.deltaY, this.config.thumbHeight, this.config.thumbWidth)) {
                                this._freeModeCurrentOffset = this.state.currIndex * this.config.thumbHeight;
                            }
                            else {
                                this._freeModeCurrentOffset += e.deltaY;
                            }
                            this.updateSlider({ value: this._freeModeCurrentOffset, active: false });
                        }
                        break;
                    case ThumbnailsPosition.Top:
                    case ThumbnailsPosition.Bottom:
                        this.updateSlider({ value: this._freeModeCurrentOffset + e.deltaX, active: true });
                        if (e.isFinal) {
                            if (this.minFreeScrollExceeded(e.deltaX, this.config.thumbHeight, this.config.thumbWidth)) {
                                this._freeModeCurrentOffset = -(this.state.items.length - 1 - this.state.currIndex) * this.config.thumbWidth;
                            }
                            else if (this.maxFreeScrollExceeded(e.deltaX, this.config.thumbWidth, this.config.thumbHeight)) {
                                this._freeModeCurrentOffset = this.state.currIndex * this.config.thumbWidth;
                            }
                            else {
                                this._freeModeCurrentOffset += e.deltaX;
                            }
                            this.updateSlider({ value: this._freeModeCurrentOffset, active: false });
                        }
                }
            };
        /**
         * Check if the minimum free scroll is exceeded (used in Bottom, Left directions)
         */
        /**
         * Check if the minimum free scroll is exceeded (used in Bottom, Left directions)
         * @param {?} delta
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
        GalleryThumbsComponent.prototype.minFreeScrollExceeded = /**
         * Check if the minimum free scroll is exceeded (used in Bottom, Left directions)
         * @param {?} delta
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
            function (delta, width, height) {
                return -(this._freeModeCurrentOffset + delta - width / 2) > (this.state.items.length - this.state.currIndex) * height;
            };
        /**
         * Check if the maximum free scroll is exceeded (used in Top, Right directions)
         */
        /**
         * Check if the maximum free scroll is exceeded (used in Top, Right directions)
         * @param {?} delta
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
        GalleryThumbsComponent.prototype.maxFreeScrollExceeded = /**
         * Check if the maximum free scroll is exceeded (used in Top, Right directions)
         * @param {?} delta
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
            function (delta, width, height) {
                return this._freeModeCurrentOffset + delta > (this.state.currIndex * width) + (height / 2);
            };
        /**
         * Convert sliding state to styles
         */
        /**
         * Convert sliding state to styles
         * @param {?} state
         * @return {?}
         */
        GalleryThumbsComponent.prototype.getSliderStyles = /**
         * Convert sliding state to styles
         * @param {?} state
         * @return {?}
         */
            function (state) {
                /** @type {?} */
                var value;
                switch (this.config.thumbPosition) {
                    case ThumbnailsPosition.Top:
                    case ThumbnailsPosition.Bottom:
                        this.width = '100%';
                        this.height = this.config.thumbHeight + 'px';
                        value = -(this.state.currIndex * this.config.thumbWidth) - (this.config.thumbWidth / 2 - state.value);
                        return {
                            transform: "translate3d(" + value + "px, 0, 0)",
                            width: this.state.items.length * this.config.thumbWidth + 'px',
                            height: '100%'
                        };
                    case ThumbnailsPosition.Left:
                    case ThumbnailsPosition.Right:
                        this.width = this.config.thumbWidth + 'px';
                        this.height = '100%';
                        value = -(this.state.currIndex * this.config.thumbHeight) - (this.config.thumbHeight / 2 - state.value);
                        return {
                            transform: "translate3d(0, " + value + "px, 0)",
                            width: '100%',
                            height: this.state.items.length * this.config.thumbHeight + 'px'
                        };
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GalleryThumbsComponent.prototype.verticalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (!(e.direction & Hammer.DIRECTION_UP && e.offsetDirection & Hammer.DIRECTION_VERTICAL)) {
                    return;
                }
                if (e.velocityY > 0.3) {
                    this.prev();
                }
                else if (e.velocityY < -0.3) {
                    this.next();
                }
                else {
                    if (e.deltaY / 2 <= -this.config.thumbHeight * this.state.items.length / this.config.panSensitivity) {
                        this.next();
                    }
                    else if (e.deltaY / 2 >= this.config.thumbHeight * this.state.items.length / this.config.panSensitivity) {
                        this.prev();
                    }
                    else {
                        this.action.emit(this.state.currIndex);
                    }
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GalleryThumbsComponent.prototype.horizontalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (!(e.direction & Hammer.DIRECTION_HORIZONTAL && e.offsetDirection & Hammer.DIRECTION_HORIZONTAL)) {
                    return;
                }
                if (e.velocityX > 0.3) {
                    this.prev();
                }
                else if (e.velocityX < -0.3) {
                    this.next();
                }
                else {
                    if (e.deltaX / 2 <= -this.config.thumbWidth * this.state.items.length / this.config.panSensitivity) {
                        this.next();
                    }
                    else if (e.deltaX / 2 >= this.config.thumbWidth * this.state.items.length / this.config.panSensitivity) {
                        this.prev();
                    }
                    else {
                        this.action.emit(this.state.currIndex);
                    }
                }
            };
        /**
         * @return {?}
         */
        GalleryThumbsComponent.prototype.next = /**
         * @return {?}
         */
            function () {
                this.action.emit('next');
            };
        /**
         * @return {?}
         */
        GalleryThumbsComponent.prototype.prev = /**
         * @return {?}
         */
            function () {
                this.action.emit('prev');
            };
        /**
         * @param {?} state
         * @return {?}
         */
        GalleryThumbsComponent.prototype.updateSlider = /**
         * @param {?} state
         * @return {?}
         */
            function (state) {
                var _this = this;
                /** @type {?} */
                var newState = __assign({}, this._slidingWorker$.value, state);
                rxjs.animationFrameScheduler.schedule(function () { return _this._slidingWorker$.next(newState); });
            };
        GalleryThumbsComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-thumbs',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\n         class=\"g-thumbs-container\">\n      <div class=\"g-slider\"\n           [class.g-no-transition]=\"sliderState.active\"\n           [ngStyle]=\"sliderState.style\">\n\n        <gallery-thumb *ngFor=\"let item of state.items;let i = index\"\n                       [type]=\"item.type\"\n                       [config]=\"config\"\n                       [data]=\"item.data\"\n                       [currIndex]=\"state.currIndex\"\n                       [index]=\"i\"\n                       [tapClickDisabled]=\"config.disableThumb\"\n                       (tapClick)=\"thumbClick.emit(i)\"\n                       (error)=\"error.emit({itemIndex: i, error: $event})\"></gallery-thumb>\n      </div>\n    </div>\n  "
                    }] }
        ];
        /** @nocollapse */
        GalleryThumbsComponent.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.NgZone }
            ];
        };
        GalleryThumbsComponent.propDecorators = {
            state: [{ type: i0.Input }],
            config: [{ type: i0.Input }],
            action: [{ type: i0.Output }],
            thumbClick: [{ type: i0.Output }],
            error: [{ type: i0.Output }],
            height: [{ type: i0.HostBinding, args: ['style.height',] }],
            width: [{ type: i0.HostBinding, args: ['style.width',] }]
        };
        return GalleryThumbsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GallerySliderComponent = /** @class */ (function () {
        function GallerySliderComponent(_el, _zone, platform) {
            var _this = this;
            this._el = _el;
            this._zone = _zone;
            this.platform = platform;
            /**
             * Sliding worker
             */
            this._slidingWorker$ = new rxjs.BehaviorSubject({ value: 0, active: false });
            /**
             * Stream that emits when the active item should change
             */
            this.action = new i0.EventEmitter();
            /**
             * Stream that emits when item is clicked
             */
            this.itemClick = new i0.EventEmitter();
            /**
             * Stream that emits when an error occurs
             */
            this.error = new i0.EventEmitter();
            // Activate sliding worker
            this.sliderState$ = this._slidingWorker$.pipe(operators.map(function (state) {
                return ({
                    style: _this.getSliderStyles(state),
                    active: state.active
                });
            }));
        }
        Object.defineProperty(GallerySliderComponent.prototype, "zoom", {
            /** Item zoom */
            get: /**
             * Item zoom
             * @return {?}
             */ function () {
                return { transform: "perspective(50px) translate3d(0, 0, " + -this.config.zoomOut + "px)" };
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                // Refresh the slider
                this.updateSlider({ value: 0, active: false });
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.config.gestures && typeof Hammer !== 'undefined') {
                    /** @type {?} */
                    var direction = this.config.slidingDirection === SlidingDirection.Horizontal
                        ? Hammer.DIRECTION_HORIZONTAL
                        : Hammer.DIRECTION_VERTICAL;
                    // Activate gestures
                    this._hammer = new Hammer(this._el.nativeElement);
                    this._hammer.get('pan').set({ direction: direction });
                    this._zone.runOutsideAngular(function () {
                        // Move the slider
                        _this._hammer.on('pan', function (e) {
                            switch (_this.config.slidingDirection) {
                                case SlidingDirection.Horizontal:
                                    _this.updateSlider({ value: e.deltaX, active: true });
                                    if (e.isFinal) {
                                        _this.updateSlider({ value: 0, active: false });
                                        _this.horizontalPan(e);
                                    }
                                    break;
                                case SlidingDirection.Vertical:
                                    _this.updateSlider({ value: e.deltaY, active: true });
                                    if (e.isFinal) {
                                        _this.updateSlider({ value: 0, active: false });
                                        _this.verticalPan(e);
                                    }
                            }
                        });
                    });
                }
                // Rearrange slider on window resize
                if (common.isPlatformBrowser(this.platform)) {
                    this._resizeSub$ = rxjs.fromEvent(window, 'resize').pipe(operators.debounceTime(200), operators.tap(function () { return _this.updateSlider(_this._slidingWorker$.value); })).subscribe();
                }
                setTimeout(function () { return _this.updateSlider({ value: 0, active: false }); });
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this._hammer) {
                    this._hammer.destroy();
                }
                if (this._resizeSub$) {
                    this._resizeSub$.unsubscribe();
                }
                this._slidingWorker$.complete();
            };
        /**
         * Convert sliding state to styles
         */
        /**
         * Convert sliding state to styles
         * @param {?} state
         * @return {?}
         */
        GallerySliderComponent.prototype.getSliderStyles = /**
         * Convert sliding state to styles
         * @param {?} state
         * @return {?}
         */
            function (state) {
                switch (this.config.slidingDirection) {
                    case SlidingDirection.Horizontal:
                        return {
                            transform: "translate3d(" + (-(this.state.currIndex * this._el.nativeElement.offsetWidth) + state.value) + "px, 0, 0)",
                            width: "calc(100% * " + this.state.items.length + ")",
                            height: '100%'
                        };
                    case SlidingDirection.Vertical:
                        return {
                            transform: "translate3d(0, " + (-(this.state.currIndex * this._el.nativeElement.offsetHeight) + state.value) + "px, 0)",
                            width: '100%',
                            height: "calc(100% * " + this.state.items.length + ")",
                        };
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GallerySliderComponent.prototype.verticalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (!(e.direction & Hammer.DIRECTION_UP && e.offsetDirection & Hammer.DIRECTION_VERTICAL)) {
                    return;
                }
                if (e.velocityY > 0.3) {
                    this.prev();
                }
                else if (e.velocityY < -0.3) {
                    this.next();
                }
                else {
                    if (e.deltaY / 2 <= -this._el.nativeElement.offsetHeight * this.state.items.length / this.config.panSensitivity) {
                        this.next();
                    }
                    else if (e.deltaY / 2 >= this._el.nativeElement.offsetHeight * this.state.items.length / this.config.panSensitivity) {
                        this.prev();
                    }
                    else {
                        this.action.emit(this.state.currIndex);
                    }
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GallerySliderComponent.prototype.horizontalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (!(e.direction & Hammer.DIRECTION_HORIZONTAL && e.offsetDirection & Hammer.DIRECTION_HORIZONTAL)) {
                    return;
                }
                if (e.velocityX > 0.3) {
                    this.prev();
                }
                else if (e.velocityX < -0.3) {
                    this.next();
                }
                else {
                    if (e.deltaX / 2 <= -this._el.nativeElement.offsetWidth * this.state.items.length / this.config.panSensitivity) {
                        this.next();
                    }
                    else if (e.deltaX / 2 >= this._el.nativeElement.offsetWidth * this.state.items.length / this.config.panSensitivity) {
                        this.prev();
                    }
                    else {
                        this.action.emit(this.state.currIndex);
                    }
                }
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.next = /**
         * @return {?}
         */
            function () {
                this.action.emit('next');
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.prev = /**
         * @return {?}
         */
            function () {
                this.action.emit('prev');
            };
        /**
         * @param {?} state
         * @return {?}
         */
        GallerySliderComponent.prototype.updateSlider = /**
         * @param {?} state
         * @return {?}
         */
            function (state) {
                var _this = this;
                /** @type {?} */
                var newState = __assign({}, this._slidingWorker$.value, state);
                rxjs.animationFrameScheduler.schedule(function () { return _this._slidingWorker$.next(newState); });
            };
        GallerySliderComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-slider',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\n         class=\"g-items-container\"\n         [ngStyle]=\"zoom\">\n\n      <div class=\"g-slider\"\n           [class.g-no-transition]=\"sliderState.active\"\n           [ngStyle]=\"sliderState.style\">\n\n        <gallery-item *ngFor=\"let item of state.items; let i = index\"\n                      [type]=\"item.type\"\n                      [config]=\"config\"\n                      [data]=\"item.data\"\n                      [currIndex]=\"state.currIndex\"\n                      [index]=\"i\"\n                      (tapClick)=\"itemClick.emit(i)\"\n                      (error)=\"error.emit({itemIndex: i, error: $event})\">\n        </gallery-item>\n\n      </div>\n    </div>\n    <ng-content></ng-content>\n  "
                    }] }
        ];
        /** @nocollapse */
        GallerySliderComponent.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.NgZone },
                { type: Object, decorators: [{ type: i0.Inject, args: [i0.PLATFORM_ID,] }] }
            ];
        };
        GallerySliderComponent.propDecorators = {
            state: [{ type: i0.Input }],
            config: [{ type: i0.Input }],
            action: [{ type: i0.Output }],
            itemClick: [{ type: i0.Output }],
            error: [{ type: i0.Output }]
        };
        return GallerySliderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryCounterComponent = /** @class */ (function () {
        function GalleryCounterComponent() {
        }
        GalleryCounterComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-counter',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <div class=\"g-counter\">{{(state.currIndex + 1) + '/' + state.items.length}}</div>\n  "
                    }] }
        ];
        GalleryCounterComponent.propDecorators = {
            state: [{ type: i0.Input }]
        };
        return GalleryCounterComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryItemComponent = /** @class */ (function () {
        function GalleryItemComponent() {
            this.Types = GalleryItemType;
            /**
             * Stream that emits when an error occurs
             */
            this.error = new i0.EventEmitter();
        }
        Object.defineProperty(GalleryItemComponent.prototype, "isActive", {
            get: /**
             * @return {?}
             */ function () {
                return this.index === this.currIndex;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryItemComponent.prototype, "load", {
            get: /**
             * @return {?}
             */ function () {
                switch (this.config.loadingStrategy) {
                    case LoadingStrategy.Preload:
                        return true;
                    case LoadingStrategy.Lazy:
                        return this.currIndex === this.index;
                    default:
                        return this.currIndex === this.index || this.currIndex === this.index - 1 || this.currIndex === this.index + 1;
                }
            },
            enumerable: true,
            configurable: true
        });
        GalleryItemComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-item',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <ng-container *ngIf=\"load\" [ngSwitch]=\"type\">\n\n      <ng-container *ngSwitchCase=\"Types.Image\">\n\n        <gallery-image [src]=\"data.src\"\n                       [mode]=\"config.loadingMode\"\n                       [loadingIcon]=\"config.loadingIcon\"\n                       [loadingError]=\"config.loadingError\"\n                       (error)=\"error.emit($event)\"></gallery-image>\n\n        <div class=\"g-template g-item-template\">\n          <ng-container *ngTemplateOutlet=\"config.itemTemplate;\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }\">\n          </ng-container>\n        </div>\n\n      </ng-container>\n\n      <gallery-video *ngSwitchCase=\"Types.Video\"\n                     [src]=\"data.src\"\n                     [poster]=\"data.poster\"\n                     [pause]=\"currIndex !== index\"\n                     (error)=\"error.emit($event)\"></gallery-video>\n\n      <gallery-iframe *ngSwitchCase=\"Types.Youtube\"\n                      [src]=\"data.src\"\n                      [pause]=\"currIndex !== index\"></gallery-iframe>\n\n      <gallery-iframe *ngSwitchCase=\"Types.Iframe\"\n                      [src]=\"data.src\"></gallery-iframe>\n\n      <ng-container *ngSwitchDefault>\n\n        <div class=\"g-template g-item-template\">\n          <ng-container *ngTemplateOutlet=\"config.itemTemplate;\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }\">\n          </ng-container>\n        </div>\n\n      </ng-container>\n\n    </ng-container>\n  "
                    }] }
        ];
        GalleryItemComponent.propDecorators = {
            config: [{ type: i0.Input }],
            index: [{ type: i0.Input }],
            currIndex: [{ type: i0.Input }],
            type: [{ type: i0.Input }],
            data: [{ type: i0.Input }],
            error: [{ type: i0.Output }],
            isActive: [{ type: i0.HostBinding, args: ['class.g-active-item',] }]
        };
        return GalleryItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryThumbComponent = /** @class */ (function () {
        function GalleryThumbComponent() {
            this.error = new i0.EventEmitter();
        }
        Object.defineProperty(GalleryThumbComponent.prototype, "isActive", {
            get: /**
             * @return {?}
             */ function () {
                return this.index === this.currIndex;
            },
            enumerable: true,
            configurable: true
        });
        GalleryThumbComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'gallery-thumb',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n    <gallery-image [src]=\"data.thumb\" [isThumbnail]=\"true\" mode=\"indeterminate\" (error)=\"error.emit($event)\"></gallery-image>\n\n    <div *ngIf=\"config.thumbTemplate\" class=\"g-template g-thumb-template\">\n      <ng-container\n        *ngTemplateOutlet=\"config.thumbTemplate; context: { index: this.index, type: this.type, data: this.data }\">\n      </ng-container>\n    </div>\n  "
                    }] }
        ];
        GalleryThumbComponent.propDecorators = {
            config: [{ type: i0.Input }],
            index: [{ type: i0.Input }],
            currIndex: [{ type: i0.Input }],
            type: [{ type: i0.Input }],
            data: [{ type: i0.Input }],
            error: [{ type: i0.Output }],
            isActive: [{ type: i0.HostBinding, args: ['class.g-active-thumb',] }]
        };
        return GalleryThumbComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var RadialProgressComponent = /** @class */ (function () {
        function RadialProgressComponent() {
            this.mode = 'determinate';
            this.value = 0;
            this.diameter = 60;
            this.strokeWidth = 3;
        }
        Object.defineProperty(RadialProgressComponent.prototype, "circleRadius", {
            /** The radius of the spinner, adjusted for stroke width. */
            get: /**
             * The radius of the spinner, adjusted for stroke width.
             * @return {?}
             */ function () {
                return (this.diameter - this.strokeWidth) / 2;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RadialProgressComponent.prototype, "viewBox", {
            /** The view box of the spinner's svg element. */
            get: /**
             * The view box of the spinner's svg element.
             * @return {?}
             */ function () {
                /** @type {?} */
                var viewBox = this.circleRadius * 2 + this.strokeWidth;
                return "0 0 " + viewBox + " " + viewBox;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RadialProgressComponent.prototype, "strokeCircumference", {
            /** The stroke circumference of the svg circle. */
            get: /**
             * The stroke circumference of the svg circle.
             * @return {?}
             */ function () {
                return 2 * Math.PI * this.circleRadius;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RadialProgressComponent.prototype, "strokeDashOffset", {
            /** The dash offset of the svg circle. */
            get: /**
             * The dash offset of the svg circle.
             * @return {?}
             */ function () {
                if (this.mode === 'determinate') {
                    return this.strokeCircumference * (100 - this.value) / 100;
                }
                // In fallback mode set the circle to 60% and rotate it with CSS.
                if (this.mode === 'indeterminate') {
                    return this.strokeCircumference * 0.4;
                }
                return null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RadialProgressComponent.prototype, "circleStrokeWidth", {
            /** Stroke width of the circle in percent. */
            get: /**
             * Stroke width of the circle in percent.
             * @return {?}
             */ function () {
                return this.strokeWidth / this.diameter * 100;
            },
            enumerable: true,
            configurable: true
        });
        RadialProgressComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'radial-progress',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        host: {
                            '[attr.mode]': 'mode',
                            '[style.width.px]': 'diameter',
                            '[style.height.px]': 'diameter'
                        },
                        template: "\n    <svg class=\"radial-progress\"\n         [style.width.px]=\"diameter\"\n         [style.height.px]=\"diameter\"\n         [attr.viewBox]=\"viewBox\"\n         preserveAspectRatio=\"xMidYMid meet\"\n         focusable=\"false\">\n\n      <circle class=\"radial-progress-meter\"\n              cx=\"50%\"\n              cy=\"50%\"\n              [attr.r]=\"circleRadius\"\n              [style.stroke-width.%]=\"circleStrokeWidth\"/>\n\n      <circle class=\"radial-progress-value\"\n              cx=\"50%\"\n              cy=\"50%\"\n              [attr.r]=\"circleRadius\"\n              [style.stroke-dashoffset.px]=\"strokeDashOffset\"\n              [style.stroke-dasharray.px]=\"strokeCircumference\"\n              [style.stroke-width.%]=\"circleStrokeWidth\"/>\n    </svg>\n  "
                    }] }
        ];
        RadialProgressComponent.propDecorators = {
            mode: [{ type: i0.Input }],
            value: [{ type: i0.Input }],
            diameter: [{ type: i0.Input }],
            strokeWidth: [{ type: i0.Input }]
        };
        return RadialProgressComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var LazyImage = /** @class */ (function () {
        function LazyImage(http$$1) {
            var _this = this;
            this.http = http$$1;
            this._imageLoader$ = new rxjs.Subject();
            this._loaderSub$ = rxjs.Subscription.EMPTY;
            this.progress = new i0.EventEmitter();
            this.loaded = new i0.EventEmitter();
            this.error = new i0.EventEmitter();
            this._loaderSub$ = this._imageLoader$.pipe(operators.switchMap(function (imageSrc) { return _this.mode === 'determinate' ? _this.progressiveLoader(imageSrc) : _this.nativeLoader(imageSrc); })).subscribe();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        LazyImage.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes['src'] && changes['src'].previousValue !== changes['src'].currentValue) {
                    this.loadImage(this.src);
                }
            };
        /**
         * @return {?}
         */
        LazyImage.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._loaderSub$.unsubscribe();
                this._imageLoader$.complete();
            };
        /**
         * @param {?} imagePath
         * @return {?}
         */
        LazyImage.prototype.loadImage = /**
         * @param {?} imagePath
         * @return {?}
         */
            function (imagePath) {
                this._imageLoader$.next(imagePath);
            };
        /**
         * Load image using HttpClient, This requires XHR access to the URL
         * @param url
         */
        /**
         * Load image using HttpClient, This requires XHR access to the URL
         * @param {?} url
         * @return {?}
         */
        LazyImage.prototype.progressiveLoader = /**
         * Load image using HttpClient, This requires XHR access to the URL
         * @param {?} url
         * @return {?}
         */
            function (url) {
                var _this = this;
                /** @type {?} */
                var downloadImage = new http.HttpRequest('GET', url, {
                    reportProgress: true,
                    responseType: 'blob',
                    headers: new http.HttpHeaders({ 'CACHE_GALLERY_IMAGE': 'true' })
                });
                return this.http.request(downloadImage).pipe(operators.tap(function (event) {
                    if (event.type === http.HttpEventType.DownloadProgress) {
                        _this.progress.emit({ loaded: event.loaded, total: event.total });
                    }
                    if (event.type === http.HttpEventType.Response) {
                        _this.loaded.emit(URL.createObjectURL(event.body));
                    }
                }), operators.catchError(function (err) {
                    _this.error.emit(err);
                    return rxjs.EMPTY;
                }));
            };
        /**
         * Native image loader, does not emit progress
         * @param url
         */
        /**
         * Native image loader, does not emit progress
         * @param {?} url
         * @return {?}
         */
        LazyImage.prototype.nativeLoader = /**
         * Native image loader, does not emit progress
         * @param {?} url
         * @return {?}
         */
            function (url) {
                var _this = this;
                /** @type {?} */
                var img = new Image();
                // Stop previously loading
                img.src = url;
                // Image load success
                /** @type {?} */
                var loadSuccess = rxjs.fromEvent(img, 'load').pipe(operators.tap(function () { return _this.loaded.emit(url); }));
                // Image load failed
                /** @type {?} */
                var loadError = rxjs.fromEvent(img, 'error').pipe(operators.tap(function () { return _this.error.emit(new Error("[lazyImage]: The image " + url + " did not load")); }));
                return rxjs.zip(loadSuccess, loadError);
            };
        LazyImage.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[lazyImage]'
                    },] }
        ];
        /** @nocollapse */
        LazyImage.ctorParameters = function () {
            return [
                { type: http.HttpClient }
            ];
        };
        LazyImage.propDecorators = {
            src: [{ type: i0.Input, args: ['lazyImage',] }],
            mode: [{ type: i0.Input }],
            progress: [{ type: i0.Output }],
            loaded: [{ type: i0.Output }],
            error: [{ type: i0.Output }]
        };
        return LazyImage;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /**
     * This directive uses tap event if HammerJS is loaded, otherwise it falls back to normal click event
     */
    var TapClick = /** @class */ (function () {
        function TapClick(el, document) {
            this.el = el;
            this.clickListener = rxjs.Subscription.EMPTY;
            this.tapClick = new i0.EventEmitter();
            Hammer = (( /** @type {?} */(document.defaultView))).Hammer;
        }
        /**
         * @return {?}
         */
        TapClick.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.activateClickEvent();
            };
        /**
         * @return {?}
         */
        TapClick.prototype.activateClickEvent = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (Hammer) {
                    // Use Hammer.js tap event
                    this.hammer = new Hammer(this.el.nativeElement);
                    this.hammer.on('tap', function () {
                        if (!_this.tapClickDisabled) {
                            _this.tapClick.emit(null);
                        }
                    });
                }
                else {
                    // Use normal click event
                    this.clickListener = rxjs.fromEvent(this.el.nativeElement, 'click').pipe(operators.filter(function () { return !_this.tapClickDisabled; }), operators.tap(function () { return _this.tapClick.emit(null); })).subscribe();
                }
            };
        /**
         * @return {?}
         */
        TapClick.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.hammer) {
                    this.hammer.destroy();
                }
                this.clickListener.unsubscribe();
            };
        TapClick.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[tapClick]'
                    },] }
        ];
        /** @nocollapse */
        TapClick.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: undefined, decorators: [{ type: i0.Inject, args: [common.DOCUMENT,] }] }
            ];
        };
        TapClick.propDecorators = {
            tapClickDisabled: [{ type: i0.Input }],
            tapClick: [{ type: i0.Output }]
        };
        return TapClick;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var /**
     * @abstract
     */ RequestCache = /** @class */ (function () {
        function RequestCache() {
        }
        return RequestCache;
    }());
    /** @type {?} */
    var maxAge = 30000;
    // maximum cache age (ms)
    var RequestCacheWithMap = /** @class */ (function () {
        function RequestCacheWithMap() {
            this.cache = new Map();
        }
        /**
         * @param {?} req
         * @return {?}
         */
        RequestCacheWithMap.prototype.get = /**
         * @param {?} req
         * @return {?}
         */
            function (req) {
                /** @type {?} */
                var url = req.urlWithParams;
                /** @type {?} */
                var cached = this.cache.get(url);
                if (!cached) {
                    return undefined;
                }
                return cached.response;
            };
        /**
         * @param {?} req
         * @param {?} response
         * @return {?}
         */
        RequestCacheWithMap.prototype.put = /**
         * @param {?} req
         * @param {?} response
         * @return {?}
         */
            function (req, response) {
                var _this = this;
                /** @type {?} */
                var url = req.urlWithParams;
                /** @type {?} */
                var entry = { url: url, response: response, lastRead: Date.now() };
                this.cache.set(url, entry);
                // remove expired cache entries
                /** @type {?} */
                var expired = Date.now() - maxAge;
                this.cache.forEach(function (entry) {
                    if (entry.lastRead < expired) {
                        _this.cache.delete(entry.url);
                    }
                });
            };
        RequestCacheWithMap.decorators = [
            { type: i0.Injectable }
        ];
        return RequestCacheWithMap;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    /**
     * If request is cachable (e.g., package search) and
     * response is in cache return the cached response as observable.
     *
     * If not in cache or not cachable,
     * pass request through to next()
     */
    var CachingInterceptor = /** @class */ (function () {
        function CachingInterceptor(cache) {
            this.cache = cache;
        }
        /**
         * @param {?} req
         * @param {?} next
         * @return {?}
         */
        CachingInterceptor.prototype.intercept = /**
         * @param {?} req
         * @param {?} next
         * @return {?}
         */
            function (req, next) {
                if (req.headers.has('CACHE_GALLERY_IMAGE') && isCachable(req)) {
                    /** @type {?} */
                    var cachedResponse = this.cache.get(req);
                    // cache-then-refresh
                    if (req.headers.get('x-refresh')) {
                        /** @type {?} */
                        var results$ = sendRequest(req, next, this.cache);
                        return cachedResponse
                            ? results$.pipe(operators.startWith(cachedResponse))
                            : results$;
                    }
                    // cache-or-fetch
                    return cachedResponse
                        ? rxjs.of(cachedResponse)
                        : sendRequest(req, next, this.cache);
                }
                return next.handle(req);
            };
        CachingInterceptor.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        CachingInterceptor.ctorParameters = function () {
            return [
                { type: RequestCache }
            ];
        };
        return CachingInterceptor;
    }());
    /**
     * Is this request cachable?
     * @param {?} req
     * @return {?}
     */
    function isCachable(req) {
        // Only GET requests are cachable
        return req.method === 'GET';
    }
    /**
     * Get server response observable by sending request to `next()`.
     * Will add the response to the cache on the way out.
     * @param {?} req
     * @param {?} next
     * @param {?} cache
     * @return {?}
     */
    function sendRequest(req, next, cache) {
        /** @type {?} */
        var request = req.clone({ headers: req.headers.delete('CACHE_GALLERY_IMAGE') });
        return next.handle(request).pipe(operators.tap(function (event) {
            // There may be other events besides the response.
            if (event instanceof http.HttpResponse) {
                cache.put(req, event); // Update the cache.
            }
        }));
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */
    var GalleryModule = /** @class */ (function () {
        function GalleryModule() {
        }
        /**
         * @param {?} config
         * @return {?}
         */
        GalleryModule.withConfig = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                return {
                    ngModule: GalleryModule,
                    providers: [
                        {
                            provide: GALLERY_CONFIG,
                            useValue: config
                        }
                    ]
                };
            };
        GalleryModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            http.HttpClientModule
                        ],
                        providers: [
                            { provide: RequestCache, useClass: RequestCacheWithMap },
                            { provide: http.HTTP_INTERCEPTORS, useClass: CachingInterceptor, multi: true }
                        ],
                        declarations: [
                            GalleryComponent,
                            GalleryNavComponent,
                            GalleryDotsComponent,
                            GalleryCoreComponent,
                            GallerySliderComponent,
                            GalleryCounterComponent,
                            GalleryThumbsComponent,
                            GalleryThumbComponent,
                            GalleryItemComponent,
                            GalleryImageComponent,
                            GalleryVideoComponent,
                            GalleryIframeComponent,
                            RadialProgressComponent,
                            LazyImage,
                            TapClick
                        ],
                        exports: [
                            GalleryComponent,
                            LazyImage,
                            TapClick,
                        ]
                    },] }
        ];
        return GalleryModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
     */

    exports.Gallery = Gallery;
    exports.GalleryRef = GalleryRef;
    exports.GalleryComponent = GalleryComponent;
    exports.ImageItem = ImageItem;
    exports.VideoItem = VideoItem;
    exports.IframeItem = IframeItem;
    exports.YoutubeItem = YoutubeItem;
    exports.GalleryIframeComponent = GalleryIframeComponent;
    exports.GalleryImageComponent = GalleryImageComponent;
    exports.GalleryVideoComponent = GalleryVideoComponent;
    exports.GALLERY_CONFIG = GALLERY_CONFIG;
    exports.GalleryAction = GalleryAction;
    exports.ImageSize = ImageSize;
    exports.LoadingStrategy = LoadingStrategy;
    exports.ThumbnailsPosition = ThumbnailsPosition;
    exports.ImageLoaderMode = ImageLoaderMode;
    exports.DotsPosition = DotsPosition;
    exports.CounterPosition = CounterPosition;
    exports.ThumbnailsMode = ThumbnailsMode;
    exports.SlidingDirection = SlidingDirection;
    exports.GalleryItemType = GalleryItemType;
    exports.GalleryModule = GalleryModule;
    exports.f = GalleryCoreComponent;
    exports.h = GalleryCounterComponent;
    exports.e = GalleryDotsComponent;
    exports.k = GalleryItemComponent;
    exports.d = GalleryNavComponent;
    exports.g = GallerySliderComponent;
    exports.j = GalleryThumbComponent;
    exports.i = GalleryThumbsComponent;
    exports.l = RadialProgressComponent;
    exports.m = LazyImage;
    exports.n = TapClick;
    exports.c = CachingInterceptor;
    exports.a = RequestCache;
    exports.b = RequestCacheWithMap;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWdhbGxlcnktY29yZS51bWQuanMubWFwIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvbW9kZWxzL2NvbnN0YW50cy50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL3V0aWxzL2dhbGxlcnkuZGVmYXVsdC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2NvbXBvbmVudHMvdGVtcGxhdGVzL2l0ZW1zLm1vZGVsLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvc2VydmljZXMvZ2FsbGVyeS1yZWYudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2xpYi9tb2RlbHMvY29uZmlnLm1vZGVsLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvc2VydmljZXMvZ2FsbGVyeS5zZXJ2aWNlLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvY29tcG9uZW50cy9nYWxsZXJ5LmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2NvbXBvbmVudHMvdGVtcGxhdGVzL2dhbGxlcnktaWZyYW1lLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2NvbXBvbmVudHMvdGVtcGxhdGVzL2dhbGxlcnktaW1hZ2UuY29tcG9uZW50LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvY29tcG9uZW50cy90ZW1wbGF0ZXMvZ2FsbGVyeS12aWRlby5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2xpYi9jb21wb25lbnRzL2dhbGxlcnktbmF2LmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2NvbXBvbmVudHMvZ2FsbGVyeS1jb3JlLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2NvbXBvbmVudHMvZ2FsbGVyeS1kb3RzLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2NvbXBvbmVudHMvZ2FsbGVyeS10aHVtYnMuY29tcG9uZW50LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvY29tcG9uZW50cy9nYWxsZXJ5LXNsaWRlci5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2xpYi9jb21wb25lbnRzL2dhbGxlcnktY291bnRlci5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2xpYi9jb21wb25lbnRzL2dhbGxlcnktaXRlbS5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2xpYi9jb21wb25lbnRzL2dhbGxlcnktdGh1bWIuY29tcG9uZW50LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvY29tcG9uZW50cy90ZW1wbGF0ZXMvcmFkaWFsLXByb2dyZXNzLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2RpcmVjdGl2ZXMvbGF6eS1pbWFnZS50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL2RpcmVjdGl2ZXMvdGFwLWNsaWNrLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvc2VydmljZXMvY2FjaGUuc2VydmljZS50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbGliL3NlcnZpY2VzL2NhY2hlLmludGVyY2VwdG9yLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9saWIvZ2FsbGVyeS5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJleHBvcnQgZW51bSBHYWxsZXJ5QWN0aW9uIHtcclxuICBJTklUSUFMSVpFRCA9ICdpbml0aWFsaXplZCcsXHJcbiAgSVRFTVNfQ0hBTkdFRCA9ICdpdGVtc0NoYW5nZWQnLFxyXG4gIElOREVYX0NIQU5HRUQgPSAnaW5kZXhDaGFuZ2VkJyxcclxuICBQTEFZID0gJ3BsYXknLFxyXG4gIFNUT1AgPSAnc3RvcCdcclxufVxyXG5cclxuZXhwb3J0IGVudW0gSW1hZ2VTaXplIHtcclxuICBDb3ZlciA9ICdjb3ZlcicsXHJcbiAgQ29udGFpbiA9ICdjb250YWluJ1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBMb2FkaW5nU3RyYXRlZ3kge1xyXG4gIFByZWxvYWQgPSAncHJlbG9hZCcsXHJcbiAgTGF6eSA9ICdsYXp5JyxcclxuICBEZWZhdWx0ID0gJ2RlZmF1bHQnXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFRodW1ibmFpbHNQb3NpdGlvbiB7XHJcbiAgVG9wID0gJ3RvcCcsXHJcbiAgTGVmdCA9ICdsZWZ0JyxcclxuICBSaWdodCA9ICdyaWdodCcsXHJcbiAgQm90dG9tID0gJ2JvdHRvbSdcclxufVxyXG5cclxuZXhwb3J0IGVudW0gSW1hZ2VMb2FkZXJNb2RlIHtcclxuICBEZXRlcm1pbmF0ZT0gJ2RldGVybWluYXRlJyxcclxuICBJbmRldGVybWluYXRlPSAnaW5kZXRlcm1pbmF0ZSdcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRG90c1Bvc2l0aW9uIHtcclxuICBUb3AgPSAndG9wJyxcclxuICBCb3R0b20gPSAnYm90dG9tJ1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBDb3VudGVyUG9zaXRpb24ge1xyXG4gIFRvcCA9ICd0b3AnLFxyXG4gIEJvdHRvbSA9ICdib3R0b20nXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFRodW1ibmFpbHNNb2RlIHtcclxuICBGcmVlID0gJ2ZyZWUnLFxyXG4gIFN0cmljdCA9ICdzdHJpY3QnXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFNsaWRpbmdEaXJlY3Rpb24ge1xyXG4gIEhvcml6b250YWwgPSAnaG9yaXpvbnRhbCcsXHJcbiAgVmVydGljYWwgPSAndmVydGljYWwnXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEdhbGxlcnlJdGVtVHlwZSB7XHJcbiAgSW1hZ2UgPSAnaW1hZ2UnLFxyXG4gIFZpZGVvID0gJ3ZpZGVvJyxcclxuICBZb3V0dWJlID0gJ3lvdXR1YmUnLFxyXG4gIElmcmFtZSA9ICdpZnJhbWUnXHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBJbWFnZVNpemUsXHJcbiAgR2FsbGVyeUFjdGlvbixcclxuICBUaHVtYm5haWxzTW9kZSxcclxuICBMb2FkaW5nU3RyYXRlZ3ksXHJcbiAgU2xpZGluZ0RpcmVjdGlvbixcclxuICBUaHVtYm5haWxzUG9zaXRpb24sXHJcbiAgSW1hZ2VMb2FkZXJNb2RlLFxyXG4gIERvdHNQb3NpdGlvbixcclxuICBDb3VudGVyUG9zaXRpb25cclxufSBmcm9tICcuLi9tb2RlbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgR2FsbGVyeVN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzL2dhbGxlcnkubW9kZWwnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi4vbW9kZWxzL2NvbmZpZy5tb2RlbCc7XHJcblxyXG4vKiogSW5pdGlhbCBzdGF0ZSAqL1xyXG5leHBvcnQgY29uc3QgZGVmYXVsdFN0YXRlOiBHYWxsZXJ5U3RhdGUgPSB7XHJcbiAgYWN0aW9uOiBHYWxsZXJ5QWN0aW9uLklOSVRJQUxJWkVELFxyXG4gIGlzUGxheWluZzogZmFsc2UsXHJcbiAgaGFzTmV4dDogZmFsc2UsXHJcbiAgaGFzUHJldjogZmFsc2UsXHJcbiAgY3VyckluZGV4OiAwLFxyXG4gIGl0ZW1zOiBbXVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWc6IEdhbGxlcnlDb25maWcgPSB7XHJcbiAgbmF2OiB0cnVlLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgem9vbU91dDogMCxcclxuICBkb3RzOiBmYWxzZSxcclxuICB0aHVtYjogdHJ1ZSxcclxuICBkb3RzU2l6ZTogMzAsXHJcbiAgY291bnRlcjogdHJ1ZSxcclxuICBnZXN0dXJlczogdHJ1ZSxcclxuICBhdXRvUGxheTogZmFsc2UsXHJcbiAgdGh1bWJXaWR0aDogMTIwLFxyXG4gIHRodW1iSGVpZ2h0OiA5MCxcclxuICBwYW5TZW5zaXRpdml0eTogMjUsXHJcbiAgZGlzYWJsZVRodW1iOiBmYWxzZSxcclxuICBwbGF5ZXJJbnRlcnZhbDogMzAwMCxcclxuICBpbWFnZVNpemU6IEltYWdlU2l6ZS5Db250YWluLFxyXG4gIHRodW1iTW9kZTogVGh1bWJuYWlsc01vZGUuU3RyaWN0LFxyXG4gIGRvdHNQb3NpdGlvbjogRG90c1Bvc2l0aW9uLkJvdHRvbSxcclxuICBjb3VudGVyUG9zaXRpb246IENvdW50ZXJQb3NpdGlvbi5Ub3AsXHJcbiAgdGh1bWJQb3NpdGlvbjogVGh1bWJuYWlsc1Bvc2l0aW9uLkJvdHRvbSxcclxuICBsb2FkaW5nTW9kZTogSW1hZ2VMb2FkZXJNb2RlLkRldGVybWluYXRlLFxyXG4gIGxvYWRpbmdTdHJhdGVneTogTG9hZGluZ1N0cmF0ZWd5LkRlZmF1bHQsXHJcbiAgc2xpZGluZ0RpcmVjdGlvbjogU2xpZGluZ0RpcmVjdGlvbi5Ib3Jpem9udGFsLFxyXG4gIG5hdkljb246IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz48c3ZnIHdpZHRoPVwiNTEycHhcIiBoZWlnaHQ9XCI1MTJweFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNDAuODIzIDI0MC44MjNcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAyNDAuODIzIDI0MC44MjNcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTE4My4xOSAxMTEuODJsLTEwOC4zLTEwOC4yNmMtNC43NTItNC43NC0xMi40NTEtNC43NC0xNy4yMTUgMC00Ljc1MiA0Ljc0LTQuNzUyIDEyLjQzOSAwIDE3LjE3OWw5OS43MDcgOTkuNjcxLTk5LjY5NSA5OS42NzFjLTQuNzUyIDQuNzQtNC43NTIgMTIuNDM5IDAgMTcuMTkxIDQuNzUyIDQuNzQgMTIuNDYzIDQuNzQgMTcuMjE1IDBsMTA4LjMtMTA4LjI2YzQuNjgtNC42OTEgNC42OC0xMi41MTEtMC4wMTItMTcuMTl6XCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcclxufTtcclxuIiwiaW1wb3J0IHsgR2FsbGVyeUl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbHMvZ2FsbGVyeS5tb2RlbCc7XHJcbmltcG9ydCB7IEdhbGxlcnlJdGVtVHlwZSB9IGZyb20gJy4uLy4uL21vZGVscy9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEltYWdlSXRlbSBpbXBsZW1lbnRzIEdhbGxlcnlJdGVtIHtcclxuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XHJcbiAgcmVhZG9ubHkgZGF0YTogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLnR5cGUgPSBHYWxsZXJ5SXRlbVR5cGUuSW1hZ2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9JdGVtIGltcGxlbWVudHMgR2FsbGVyeUl0ZW0ge1xyXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcclxuICByZWFkb25seSBkYXRhOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMudHlwZSA9IEdhbGxlcnlJdGVtVHlwZS5WaWRlbztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJZnJhbWVJdGVtIGltcGxlbWVudHMgR2FsbGVyeUl0ZW0ge1xyXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcclxuICByZWFkb25seSBkYXRhOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMudHlwZSA9IEdhbGxlcnlJdGVtVHlwZS5JZnJhbWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgWW91dHViZUl0ZW0gaW1wbGVtZW50cyBHYWxsZXJ5SXRlbSB7XHJcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xyXG4gIHJlYWRvbmx5IGRhdGE6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICB0aGlzLmRhdGEgPSB7XHJcbiAgICAgIHNyYzogYC8veW91dHViZS5jb20vZW1iZWQvJHtkYXRhLnNyY30/d21vZGU9dHJhbnNwYXJlbnRgLFxyXG4gICAgICB0aHVtYjogZGF0YS50aHVtYiA/IGRhdGEudGh1bWIgOiBgLy9pbWcueW91dHViZS5jb20vdmkvJHtkYXRhLnNyY30vZGVmYXVsdC5qcGdgXHJcbiAgICB9O1xyXG4gICAgdGhpcy50eXBlID0gR2FsbGVyeUl0ZW1UeXBlLllvdXR1YmU7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgU3ViamVjdCwgT2JzZXJ2YWJsZSwgb2YsIEVNUFRZfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgZGVsYXksIGZpbHRlciwgc3dpdGNoTWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IGRlZmF1bHRTdGF0ZSB9IGZyb20gJy4uL3V0aWxzL2dhbGxlcnkuZGVmYXVsdCc7XHJcbmltcG9ydCB7IEdhbGxlcnlFcnJvciwgR2FsbGVyeUl0ZW0sIEdhbGxlcnlTdGF0ZSB9IGZyb20gJy4uL21vZGVscy9nYWxsZXJ5Lm1vZGVsJztcclxuaW1wb3J0IHsgR2FsbGVyeUNvbmZpZyB9IGZyb20gJy4uL21vZGVscy9jb25maWcubW9kZWwnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5QWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IElmcmFtZUl0ZW0sIEltYWdlSXRlbSwgVmlkZW9JdGVtLCBZb3V0dWJlSXRlbSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdGVtcGxhdGVzL2l0ZW1zLm1vZGVsJztcclxuXHJcbmNvbnN0IGZpbHRlckFjdGlvbnMgPSAoYWN0aW9uczogc3RyaW5nW10pID0+IHtcclxuICByZXR1cm4gZmlsdGVyKChzdGF0ZTogR2FsbGVyeVN0YXRlKSA9PiBhY3Rpb25zLmluZGV4T2Yoc3RhdGUuYWN0aW9uKSA+IC0xKTtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5UmVmIHtcclxuXHJcbiAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIGdhbGxlcnkgc3RhdGUgKi9cclxuICBwcml2YXRlIHJlYWRvbmx5IF9zdGF0ZTogQmVoYXZpb3JTdWJqZWN0PEdhbGxlcnlTdGF0ZT47XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyBnYWxsZXJ5IGNvbmZpZyAqL1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX2NvbmZpZzogQmVoYXZpb3JTdWJqZWN0PEdhbGxlcnlDb25maWc+O1xyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgb24gaXRlbSBjbGljayAqL1xyXG4gIHJlYWRvbmx5IGl0ZW1DbGljayA9IG5ldyBTdWJqZWN0PG51bWJlcj4oKTtcclxuXHJcbiAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIG9uIHRodW1ibmFpbCBjbGljayAqL1xyXG4gIHJlYWRvbmx5IHRodW1iQ2xpY2sgPSBuZXcgU3ViamVjdDxudW1iZXI+KCk7XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyBvbiBhbiBlcnJvciBvY2N1cnMgKi9cclxuICByZWFkb25seSBlcnJvciA9IG5ldyBTdWJqZWN0PEdhbGxlcnlFcnJvcj4oKTtcclxuXHJcbiAgLyoqIEdhbGxlcnkgRXZlbnRzICovXHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyBnYWxsZXJ5IHN0YXRlICovXHJcbiAgcmVhZG9ubHkgc3RhdGU6IE9ic2VydmFibGU8R2FsbGVyeVN0YXRlPjtcclxuXHJcbiAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIGdhbGxlcnkgY29uZmlnICovXHJcbiAgcmVhZG9ubHkgY29uZmlnOiBPYnNlcnZhYmxlPEdhbGxlcnlDb25maWc+O1xyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBnYWxsZXJ5IGlzIGluaXRpYWxpemVkL3Jlc2V0ICovXHJcbiAgZ2V0IGluaXRpYWxpemVkKCk6IE9ic2VydmFibGU8R2FsbGVyeVN0YXRlPiB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKGZpbHRlckFjdGlvbnMoW0dhbGxlcnlBY3Rpb24uSU5JVElBTElaRURdKSk7XHJcbiAgfVxyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBpdGVtcyBpcyBjaGFuZ2VkIChpdGVtcyBsb2FkZWQsIGl0ZW0gYWRkZWQsIGl0ZW0gcmVtb3ZlZCkgKi9cclxuICBnZXQgaXRlbXNDaGFuZ2VkKCk6IE9ic2VydmFibGU8R2FsbGVyeVN0YXRlPiB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKGZpbHRlckFjdGlvbnMoW0dhbGxlcnlBY3Rpb24uSVRFTVNfQ0hBTkdFRF0pKTtcclxuICB9XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGN1cnJlbnQgaXRlbSBpcyBjaGFuZ2VkICovXHJcbiAgZ2V0IGluZGV4Q2hhbmdlZCgpOiBPYnNlcnZhYmxlPEdhbGxlcnlTdGF0ZT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShmaWx0ZXJBY3Rpb25zKFtHYWxsZXJ5QWN0aW9uLklOREVYX0NIQU5HRURdKSk7XHJcbiAgfVxyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiB0aGUgcGxheWVyIHNob3VsZCBzdGFydCBvciBzdG9wICovXHJcbiAgZ2V0IHBsYXlpbmdDaGFuZ2VkKCk6IE9ic2VydmFibGU8R2FsbGVyeVN0YXRlPiB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKGZpbHRlckFjdGlvbnMoW0dhbGxlcnlBY3Rpb24uUExBWSwgR2FsbGVyeUFjdGlvbi5TVE9QXSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gdGhlIHBsYXllciBzaG91bGQgc3RhcnQgb3Igc3RvcCAqL1xyXG4gIHByaXZhdGUgZ2V0IHBsYXllckFjdGlvbnMoKTogT2JzZXJ2YWJsZTxHYWxsZXJ5U3RhdGU+IHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLnBpcGUoZmlsdGVyQWN0aW9ucyhbR2FsbGVyeUFjdGlvbi5QTEFZLCBHYWxsZXJ5QWN0aW9uLlNUT1AsIEdhbGxlcnlBY3Rpb24uSU5ERVhfQ0hBTkdFRF0pKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogR2FsbGVyeUNvbmZpZywgcHJpdmF0ZSBkZWxldGVJbnN0YW5jZTogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMuX3N0YXRlID0gbmV3IEJlaGF2aW9yU3ViamVjdDxHYWxsZXJ5U3RhdGU+KGRlZmF1bHRTdGF0ZSk7XHJcbiAgICB0aGlzLl9jb25maWcgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PEdhbGxlcnlDb25maWc+KGNvbmZpZyk7XHJcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5fc3RhdGUuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMuX2NvbmZpZy5hc09ic2VydmFibGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjdGl2YXRlIHBsYXllciBhY3Rpb25zIGxpc3RlbmVyXHJcbiAgICovXHJcbiAgYWN0aXZhdGVQbGF5ZXIoKTogT2JzZXJ2YWJsZTxHYWxsZXJ5U3RhdGU+IHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllckFjdGlvbnMucGlwZShcclxuICAgICAgc3dpdGNoTWFwKChlOiBHYWxsZXJ5U3RhdGUpID0+XHJcbiAgICAgICAgZS5pc1BsYXlpbmcgPyBvZih7fSkucGlwZShcclxuICAgICAgICAgIGRlbGF5KHRoaXMuX2NvbmZpZy52YWx1ZS5wbGF5ZXJJbnRlcnZhbCksXHJcbiAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5uZXh0KCkpXHJcbiAgICAgICAgKSA6IEVNUFRZXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgZ2FsbGVyeSBzdGF0ZVxyXG4gICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgc2V0U3RhdGUoc3RhdGU6IEdhbGxlcnlTdGF0ZSkge1xyXG4gICAgdGhpcy5fc3RhdGUubmV4dCh7Li4udGhpcy5fc3RhdGUudmFsdWUsIC4uLnN0YXRlfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgZ2FsbGVyeSBjb25maWdcclxuICAgKiBAcGFyYW0gY29uZmlnXHJcbiAgICovXHJcbiAgc2V0Q29uZmlnKGNvbmZpZzogR2FsbGVyeUNvbmZpZykge1xyXG4gICAgdGhpcy5fY29uZmlnLm5leHQoey4uLnRoaXMuX2NvbmZpZy52YWx1ZSwgLi4uY29uZmlnfSk7XHJcbiAgfVxyXG5cclxuICAvKiogQWRkIGdhbGxlcnkgaXRlbVxyXG4gICAqIEBwYXJhbSBpdGVtIC0gR2FsbGVyeSBpdGVtIG9iamVjdFxyXG4gICAqIEBwYXJhbSBhY3RpdmUgLSBTZXQgdGhlIG5ldyBpdGVtIGFzIGN1cnJlbnQgc2xpZGVcclxuICAgKi9cclxuICBhZGQoaXRlbTogR2FsbGVyeUl0ZW0sIGFjdGl2ZT86IGJvb2xlYW4pIHtcclxuXHJcbiAgICBjb25zdCBpdGVtcyA9IFsuLi50aGlzLl9zdGF0ZS52YWx1ZS5pdGVtcywgaXRlbV07XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWN0aW9uOiBHYWxsZXJ5QWN0aW9uLklURU1TX0NIQU5HRUQsXHJcbiAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgaGFzTmV4dDogaXRlbXMubGVuZ3RoID4gMSxcclxuICAgICAgY3VyckluZGV4OiBhY3RpdmUgPyBpdGVtcy5sZW5ndGggLSAxIDogdGhpcy5fc3RhdGUudmFsdWUuY3VyckluZGV4XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBpbWFnZSBpdGVtXHJcbiAgICogQHBhcmFtIGRhdGFcclxuICAgKiBAcGFyYW0gYWN0aXZlXHJcbiAgICovXHJcbiAgYWRkSW1hZ2UoZGF0YTogYW55LCBhY3RpdmU/OiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmFkZChuZXcgSW1hZ2VJdGVtKGRhdGEpLCBhY3RpdmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIHZpZGVvIGl0ZW1cclxuICAgKiBAcGFyYW0gZGF0YVxyXG4gICAqIEBwYXJhbSBhY3RpdmVcclxuICAgKi9cclxuICBhZGRWaWRlbyhkYXRhOiBhbnksIGFjdGl2ZT86IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuYWRkKG5ldyBWaWRlb0l0ZW0oZGF0YSksIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgaWZyYW1lIGl0ZW1cclxuICAgKiBAcGFyYW0gZGF0YVxyXG4gICAqIEBwYXJhbSBhY3RpdmVcclxuICAgKi9cclxuICBhZGRJZnJhbWUoZGF0YTogYW55LCBhY3RpdmU/OiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmFkZChuZXcgSWZyYW1lSXRlbShkYXRhKSwgYWN0aXZlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCB5b3V0dWJlIGl0ZW1cclxuICAgKiBAcGFyYW0gZGF0YVxyXG4gICAqIEBwYXJhbSBhY3RpdmVcclxuICAgKi9cclxuICBhZGRZb3V0dWJlKGRhdGE6IGFueSwgYWN0aXZlPzogYm9vbGVhbikge1xyXG4gICAgdGhpcy5hZGQobmV3IFlvdXR1YmVJdGVtKGRhdGEpLCBhY3RpdmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqIFJlbW92ZSBnYWxsZXJ5IGl0ZW1cclxuICAgKiBAcGFyYW0gaSAtIEl0ZW0gaW5kZXhcclxuICAgKi9cclxuICByZW1vdmUoaTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IFtcclxuICAgICAgLi4udGhpcy5fc3RhdGUudmFsdWUuaXRlbXMuc2xpY2UoMCwgaSksXHJcbiAgICAgIC4uLnRoaXMuX3N0YXRlLnZhbHVlLml0ZW1zLnNsaWNlKGkgKyAxLCB0aGlzLl9zdGF0ZS52YWx1ZS5pdGVtcy5sZW5ndGgpXHJcbiAgICBdO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGlvbjogR2FsbGVyeUFjdGlvbi5JVEVNU19DSEFOR0VELFxyXG4gICAgICBpdGVtczogaXRlbXMsXHJcbiAgICAgIGhhc05leHQ6IGl0ZW1zLmxlbmd0aCA+IDEsXHJcbiAgICAgIGhhc1ByZXY6IGkgPiAwXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgaXRlbXMgYW5kIHJlc2V0IHRoZSBzdGF0ZVxyXG4gICAqIEBwYXJhbSBpdGVtcyAtIEdhbGxlcnkgaW1hZ2VzIGRhdGFcclxuICAgKi9cclxuICBsb2FkKGl0ZW1zOiBHYWxsZXJ5SXRlbVtdKSB7XHJcbiAgICBpZiAoaXRlbXMpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgYWN0aW9uOiBHYWxsZXJ5QWN0aW9uLklURU1TX0NIQU5HRUQsXHJcbiAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgIGhhc05leHQ6IGl0ZW1zLmxlbmd0aCA+IDEsXHJcbiAgICAgICAgaGFzUHJldjogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgYWN0aXZlIGl0ZW1cclxuICAgKiBAcGFyYW0gaSAtIEFjdGl2ZSBJbmRleFxyXG4gICAqL1xyXG4gIHNldChpOiBudW1iZXIpIHtcclxuICAgIGlmIChpICE9PSB0aGlzLl9zdGF0ZS52YWx1ZS5jdXJySW5kZXgpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgYWN0aW9uOiBHYWxsZXJ5QWN0aW9uLklOREVYX0NIQU5HRUQsXHJcbiAgICAgICAgY3VyckluZGV4OiBpLFxyXG4gICAgICAgIGhhc05leHQ6IGkgPCB0aGlzLl9zdGF0ZS52YWx1ZS5pdGVtcy5sZW5ndGggLSAxLFxyXG4gICAgICAgIGhhc1ByZXY6IGkgPiAwXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTmV4dCBpdGVtXHJcbiAgICovXHJcbiAgbmV4dCgpIHtcclxuICAgIGlmICh0aGlzLl9zdGF0ZS52YWx1ZS5oYXNOZXh0KSB7XHJcbiAgICAgIHRoaXMuc2V0KHRoaXMuX3N0YXRlLnZhbHVlLmN1cnJJbmRleCArIDEpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9jb25maWcudmFsdWUubG9vcCkge1xyXG4gICAgICB0aGlzLnNldCgwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByZXYgaXRlbVxyXG4gICAqL1xyXG4gIHByZXYoKSB7XHJcbiAgICBpZiAodGhpcy5fc3RhdGUudmFsdWUuaGFzUHJldikge1xyXG4gICAgICB0aGlzLnNldCh0aGlzLl9zdGF0ZS52YWx1ZS5jdXJySW5kZXggLSAxKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5fY29uZmlnLnZhbHVlLmxvb3ApIHtcclxuICAgICAgdGhpcy5zZXQodGhpcy5fc3RhdGUudmFsdWUuaXRlbXMubGVuZ3RoIC0gMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBnYWxsZXJ5IHBsYXllclxyXG4gICAqIEBwYXJhbSBpbnRlcnZhbFxyXG4gICAqL1xyXG4gIHBsYXkoaW50ZXJ2YWw/OiBudW1iZXIpIHtcclxuICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICB0aGlzLnNldENvbmZpZyh7cGxheWVySW50ZXJ2YWw6IGludGVydmFsfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHthY3Rpb246IEdhbGxlcnlBY3Rpb24uUExBWSwgaXNQbGF5aW5nOiB0cnVlfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIGdhbGxlcnkgcGxheWVyXHJcbiAgICovXHJcbiAgc3RvcCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe2FjdGlvbjogR2FsbGVyeUFjdGlvbi5TVE9QLCBpc1BsYXlpbmc6IGZhbHNlfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNldCBnYWxsZXJ5IHRvIGluaXRpYWwgc3RhdGVcclxuICAgKi9cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoZGVmYXVsdFN0YXRlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgZ2FsbGVyeVxyXG4gICAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9zdGF0ZS5jb21wbGV0ZSgpO1xyXG4gICAgdGhpcy5fY29uZmlnLmNvbXBsZXRlKCk7XHJcbiAgICB0aGlzLml0ZW1DbGljay5jb21wbGV0ZSgpO1xyXG4gICAgdGhpcy50aHVtYkNsaWNrLmNvbXBsZXRlKCk7XHJcbiAgICB0aGlzLmRlbGV0ZUluc3RhbmNlKCk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmV4cG9ydCBjb25zdCBHQUxMRVJZX0NPTkZJRyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxHYWxsZXJ5Q29uZmlnPignZ2FsbGVyeUNvbmZpZycpO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHYWxsZXJ5Q29uZmlnIHtcclxuICBuYXY/OiBib29sZWFuO1xyXG4gIGRvdHM/OiBib29sZWFuO1xyXG4gIGxvb3A/OiBib29sZWFuO1xyXG4gIHRodW1iPzogYm9vbGVhbjtcclxuICB6b29tT3V0PzogbnVtYmVyO1xyXG4gIG5hdkljb24/OiBzdHJpbmc7XHJcbiAgY291bnRlcj86IGJvb2xlYW47XHJcbiAgZG90c1NpemU/OiBudW1iZXI7XHJcbiAgZ2VzdHVyZXM/OiBib29sZWFuO1xyXG4gIGF1dG9QbGF5PzogYm9vbGVhbjtcclxuICB0aHVtYldpZHRoPzogbnVtYmVyO1xyXG4gIHRodW1iSGVpZ2h0PzogbnVtYmVyO1xyXG4gIGxvYWRpbmdJY29uPzogc3RyaW5nO1xyXG4gIGxvYWRpbmdFcnJvcj86IHN0cmluZztcclxuICBkaXNhYmxlVGh1bWI/OiBib29sZWFuO1xyXG4gIHBhblNlbnNpdGl2aXR5PzogbnVtYmVyO1xyXG4gIHBsYXllckludGVydmFsPzogbnVtYmVyO1xyXG4gIGl0ZW1UZW1wbGF0ZT86IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgdGh1bWJUZW1wbGF0ZT86IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgdGh1bWJNb2RlPzogJ3N0cmljdCcgfCAnZnJlZSc7XHJcbiAgaW1hZ2VTaXplPzogJ2NvdmVyJyB8ICdjb250YWluJztcclxuICBkb3RzUG9zaXRpb24/OiAndG9wJyB8ICdib3R0b20nO1xyXG4gIGNvdW50ZXJQb3NpdGlvbj86ICd0b3AnIHwgJ2JvdHRvbSc7XHJcbiAgc2xpZGluZ0RpcmVjdGlvbj86ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCc7XHJcbiAgbG9hZGluZ01vZGU/OiAnZGV0ZXJtaW5hdGUnIHwgJ2luZGV0ZXJtaW5hdGUnO1xyXG4gIGxvYWRpbmdTdHJhdGVneT86ICdwcmVsb2FkJyB8ICdsYXp5JyB8ICdkZWZhdWx0JztcclxuICB0aHVtYlBvc2l0aW9uPzogJ3RvcCcgfCAnbGVmdCcgfCAncmlnaHQnIHwgJ2JvdHRvbSc7XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgR2FsbGVyeVJlZiB9IGZyb20gJy4vZ2FsbGVyeS1yZWYnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnLCBHQUxMRVJZX0NPTkZJRyB9IGZyb20gJy4uL21vZGVscy9jb25maWcubW9kZWwnO1xyXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvZ2FsbGVyeS5kZWZhdWx0JztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnkge1xyXG5cclxuICAvKiogU3RvcmUgZ2FsbGVyeSBpbnN0YW5jZXMgKi9cclxuICBwcml2YXRlIHJlYWRvbmx5IF9pbnN0YW5jZXMgPSBuZXcgTWFwPHN0cmluZywgR2FsbGVyeVJlZj4oKTtcclxuXHJcbiAgLyoqIEdsb2JhbCBjb25maWcgKi9cclxuICBjb25maWc6IEdhbGxlcnlDb25maWc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBJbmplY3QoR0FMTEVSWV9DT05GSUcpIGNvbmZpZzogR2FsbGVyeUNvbmZpZykge1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWcgPyB7Li4uZGVmYXVsdENvbmZpZywgLi4uY29uZmlnfSA6IGRlZmF1bHRDb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3IgY3JlYXRlIGdhbGxlcnkgYnkgSURcclxuICAgKiBAcGFyYW0gaWRcclxuICAgKiBAcGFyYW0gY29uZmlnXHJcbiAgICovXHJcbiAgcmVmKGlkID0gJ3Jvb3QnLCBjb25maWc/OiBHYWxsZXJ5Q29uZmlnKTogR2FsbGVyeVJlZiB7XHJcbiAgICBpZiAodGhpcy5faW5zdGFuY2VzLmhhcyhpZCkpIHtcclxuICAgICAgY29uc3QgZ2FsbGVyeVJlZiA9IHRoaXMuX2luc3RhbmNlcy5nZXQoaWQpO1xyXG4gICAgICBpZiAoY29uZmlnKSB7XHJcbiAgICAgICAgZ2FsbGVyeVJlZi5zZXRDb25maWcoey4uLnRoaXMuY29uZmlnLCAuLi5jb25maWd9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZ2FsbGVyeVJlZjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZXMuc2V0KGlkLCBuZXcgR2FsbGVyeVJlZih7Li4udGhpcy5jb25maWcsIC4uLmNvbmZpZ30sIHRoaXMuZGVsZXRlSW5zdGFuY2UoaWQpKSkuZ2V0KGlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgYWxsIGdhbGxlcnkgaW5zdGFuY2VzXHJcbiAgICovXHJcbiAgZGVzdHJveUFsbCgpIHtcclxuICAgIHRoaXMuX2luc3RhbmNlcy5mb3JFYWNoKChyZWY6IEdhbGxlcnlSZWYpID0+IHJlZi5kZXN0cm95KCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgYWxsIGdhbGxlcnkgaW5zdGFuY2VzXHJcbiAgICovXHJcbiAgcmVzZXRBbGwoKSB7XHJcbiAgICB0aGlzLl9pbnN0YW5jZXMuZm9yRWFjaCgocmVmOiBHYWxsZXJ5UmVmKSA9PiByZWYucmVzZXQoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIGRlc3Ryb3llciBmdW5jdGlvbiBmb3IgZWFjaCBnYWxsZXJ5IGluc3RhbmNlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBkZWxldGVJbnN0YW5jZShpZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5faW5zdGFuY2VzLmhhcyhpZCkpIHtcclxuICAgICAgICB0aGlzLl9pbnN0YW5jZXMuZGVsZXRlKGlkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBPbkluaXQsXHJcbiAgT25DaGFuZ2VzLFxyXG4gIE9uRGVzdHJveSxcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIFRlbXBsYXRlUmVmLFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIFN1YnNjcmlwdGlvbkxpa2UgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgR2FsbGVyeSB9IGZyb20gJy4uL3NlcnZpY2VzL2dhbGxlcnkuc2VydmljZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlSZWYgfSBmcm9tICcuLi9zZXJ2aWNlcy9nYWxsZXJ5LXJlZic7XHJcbmltcG9ydCB7IEdhbGxlcnlFcnJvciwgR2FsbGVyeUl0ZW0sIEdhbGxlcnlTdGF0ZSB9IGZyb20gJy4uL21vZGVscy9nYWxsZXJ5Lm1vZGVsJztcclxuaW1wb3J0IHsgSWZyYW1lSXRlbSwgSW1hZ2VJdGVtLCBWaWRlb0l0ZW0sIFlvdXR1YmVJdGVtIH0gZnJvbSAnLi90ZW1wbGF0ZXMvaXRlbXMubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5JyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBzdHlsZVVybHM6IFsnLi4vc3R5bGVzL2dhbGxlcnkuc2NzcyddLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8Z2FsbGVyeS1jb3JlIFtzdGF0ZV09XCJnYWxsZXJ5UmVmLnN0YXRlIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICBbY29uZmlnXT1cImdhbGxlcnlSZWYuY29uZmlnIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAoYWN0aW9uKT1cIm9uQWN0aW9uKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAoaXRlbUNsaWNrKT1cIm9uSXRlbUNsaWNrKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAodGh1bWJDbGljayk9XCJvblRodW1iQ2xpY2soJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgIChlcnJvcik9XCJvbkVycm9yKCRldmVudClcIj48L2dhbGxlcnktY29yZT5cclxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cclxuICBgXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XHJcblxyXG4gIGdhbGxlcnlSZWY6IEdhbGxlcnlSZWY7XHJcbiAgQElucHV0KCkgaWQ6IHN0cmluZztcclxuICBASW5wdXQoKSBpdGVtczogR2FsbGVyeUl0ZW0gW107XHJcbiAgQElucHV0KCkgbmF2OiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcubmF2O1xyXG4gIEBJbnB1dCgpIGRvdHM6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5kb3RzO1xyXG4gIEBJbnB1dCgpIGxvb3A6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5sb29wO1xyXG4gIEBJbnB1dCgpIHRodW1iOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWI7XHJcbiAgQElucHV0KCkgem9vbU91dDogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuem9vbU91dDtcclxuICBASW5wdXQoKSBjb3VudGVyOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuY291bnRlcjtcclxuICBASW5wdXQoKSBkb3RzU2l6ZTogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuZG90c1NpemU7XHJcbiAgQElucHV0KCkgYXV0b1BsYXk6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5hdXRvUGxheTtcclxuICBASW5wdXQoKSBnZXN0dXJlczogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmdlc3R1cmVzO1xyXG4gIEBJbnB1dCgpIHRodW1iV2lkdGg6IG51bWJlciA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnRodW1iV2lkdGg7XHJcbiAgQElucHV0KCkgdGh1bWJIZWlnaHQ6IG51bWJlciA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnRodW1iSGVpZ2h0O1xyXG4gIEBJbnB1dCgpIGRpc2FibGVUaHVtYjogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRpc2FibGVUaHVtYjtcclxuICBASW5wdXQoKSBwYW5TZW5zaXRpdml0eTogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcucGFuU2Vuc2l0aXZpdHk7XHJcbiAgQElucHV0KCkgcGxheWVySW50ZXJ2YWw6IG51bWJlciA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnBsYXllckludGVydmFsO1xyXG4gIEBJbnB1dCgpIGl0ZW1UZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLml0ZW1UZW1wbGF0ZTtcclxuICBASW5wdXQoKSB0aHVtYlRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+ID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJUZW1wbGF0ZTtcclxuICBASW5wdXQoKSB0aHVtYk1vZGU6ICdzdHJpY3QnIHwgJ2ZyZWUnID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJNb2RlO1xyXG4gIEBJbnB1dCgpIGltYWdlU2l6ZTogJ2NvdmVyJyB8ICdjb250YWluJyA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmltYWdlU2l6ZTtcclxuICBASW5wdXQoKSBkb3RzUG9zaXRpb246ICd0b3AnIHwgJ2JvdHRvbScgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5kb3RzUG9zaXRpb247XHJcbiAgQElucHV0KCkgY291bnRlclBvc2l0aW9uOiAndG9wJyB8ICdib3R0b20nID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuY291bnRlclBvc2l0aW9uO1xyXG4gIEBJbnB1dCgpIHNsaWRpbmdEaXJlY3Rpb246ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCcgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5zbGlkaW5nRGlyZWN0aW9uO1xyXG4gIEBJbnB1dCgpIGxvYWRpbmdNb2RlOiAnZGV0ZXJtaW5hdGUnIHwgJ2luZGV0ZXJtaW5hdGUnID0gdGhpcy5fZ2FsbGVyeS5jb25maWcubG9hZGluZ01vZGU7XHJcbiAgQElucHV0KCkgbG9hZGluZ1N0cmF0ZWd5OiAncHJlbG9hZCcgfCAnbGF6eScgfCAnZGVmYXVsdCcgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5sb2FkaW5nU3RyYXRlZ3k7XHJcbiAgQElucHV0KCkgdGh1bWJQb3NpdGlvbjogJ3RvcCcgfCAnbGVmdCcgfCAncmlnaHQnIHwgJ2JvdHRvbScgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy50aHVtYlBvc2l0aW9uO1xyXG5cclxuICAvLyBJbnB1dHMgdXNlZCBieSB0aGUgbGlnaHRib3hcclxuXHJcbiAgLyoqIERlc3Ryb3kgZ2FsbGVyeSByZWYgb24gY29tcG9uZW50IGRlc3Ryb3kgZXZlbnQgKi9cclxuICBASW5wdXQoKSBkZXN0cm95UmVmID0gdHJ1ZTtcclxuXHJcbiAgLyoqIFNraXAgaW5pdGlhbGl6aW5nIHRoZSBjb25maWcgd2l0aCBjb21wb25lbnRzIGlucHV0cyAoTGlnaHRib3ggbW9kZSkgKi9cclxuICBASW5wdXQoKSBza2lwSW5pdENvbmZpZyA9IGZhbHNlO1xyXG5cclxuICBAT3V0cHV0KCkgaXRlbUNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcbiAgQE91dHB1dCgpIHRodW1iQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuICBAT3V0cHV0KCkgcGxheWluZ0NoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeVN0YXRlPigpO1xyXG4gIEBPdXRwdXQoKSBpbmRleENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeVN0YXRlPigpO1xyXG4gIEBPdXRwdXQoKSBpdGVtc0NoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeVN0YXRlPigpO1xyXG4gIEBPdXRwdXQoKSBlcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeUVycm9yPigpO1xyXG5cclxuICBwcml2YXRlIF9pdGVtQ2xpY2skOiBTdWJzY3JpcHRpb25MaWtlID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xyXG4gIHByaXZhdGUgX3RodW1iQ2xpY2skOiBTdWJzY3JpcHRpb25MaWtlID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xyXG4gIHByaXZhdGUgX2l0ZW1DaGFuZ2UkOiBTdWJzY3JpcHRpb25MaWtlID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xyXG4gIHByaXZhdGUgX2luZGV4Q2hhbmdlJDogU3Vic2NyaXB0aW9uTGlrZSA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcclxuICBwcml2YXRlIF9wbGF5aW5nQ2hhbmdlJDogU3Vic2NyaXB0aW9uTGlrZSA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcclxuICBwcml2YXRlIF9wbGF5ZXJMaXN0ZW5lciQ6IFN1YnNjcmlwdGlvbkxpa2UgPSBTdWJzY3JpcHRpb24uRU1QVFk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2dhbGxlcnk6IEdhbGxlcnkpIHtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmF2OiB0aGlzLm5hdixcclxuICAgICAgZG90czogdGhpcy5kb3RzLFxyXG4gICAgICBsb29wOiB0aGlzLmxvb3AsXHJcbiAgICAgIHRodW1iOiB0aGlzLnRodW1iLFxyXG4gICAgICB6b29tT3V0OiB0aGlzLnpvb21PdXQsXHJcbiAgICAgIGNvdW50ZXI6IHRoaXMuY291bnRlcixcclxuICAgICAgYXV0b1BsYXk6IHRoaXMuYXV0b1BsYXksXHJcbiAgICAgIGdlc3R1cmVzOiB0aGlzLmdlc3R1cmVzLFxyXG4gICAgICBkb3RzU2l6ZTogdGhpcy5kb3RzU2l6ZSxcclxuICAgICAgaW1hZ2VTaXplOiB0aGlzLmltYWdlU2l6ZSxcclxuICAgICAgdGh1bWJNb2RlOiB0aGlzLnRodW1iTW9kZSxcclxuICAgICAgdGh1bWJXaWR0aDogdGhpcy50aHVtYldpZHRoLFxyXG4gICAgICB0aHVtYkhlaWdodDogdGhpcy50aHVtYkhlaWdodCxcclxuICAgICAgbG9hZGluZ01vZGU6IHRoaXMubG9hZGluZ01vZGUsXHJcbiAgICAgIGRpc2FibGVUaHVtYjogdGhpcy5kaXNhYmxlVGh1bWIsXHJcbiAgICAgIGRvdHNQb3NpdGlvbjogdGhpcy5kb3RzUG9zaXRpb24sXHJcbiAgICAgIGl0ZW1UZW1wbGF0ZTogdGhpcy5pdGVtVGVtcGxhdGUsXHJcbiAgICAgIHRodW1iVGVtcGxhdGU6IHRoaXMudGh1bWJUZW1wbGF0ZSxcclxuICAgICAgdGh1bWJQb3NpdGlvbjogdGhpcy50aHVtYlBvc2l0aW9uLFxyXG4gICAgICBwYW5TZW5zaXRpdml0eTogdGhpcy5wYW5TZW5zaXRpdml0eSxcclxuICAgICAgcGxheWVySW50ZXJ2YWw6IHRoaXMucGxheWVySW50ZXJ2YWwsXHJcbiAgICAgIGNvdW50ZXJQb3NpdGlvbjogdGhpcy5jb3VudGVyUG9zaXRpb24sXHJcbiAgICAgIGxvYWRpbmdTdHJhdGVneTogdGhpcy5sb2FkaW5nU3RyYXRlZ3ksXHJcbiAgICAgIHNsaWRpbmdEaXJlY3Rpb246IHRoaXMuc2xpZGluZ0RpcmVjdGlvblxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG9uQWN0aW9uKGk6IHN0cmluZyB8IG51bWJlcikge1xyXG4gICAgc3dpdGNoIChpKSB7XHJcbiAgICAgIGNhc2UgJ25leHQnOlxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeVJlZi5uZXh0KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3ByZXYnOlxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeVJlZi5wcmV2KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5UmVmLnNldCg8bnVtYmVyPmkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgaWYgKHRoaXMuZ2FsbGVyeVJlZikge1xyXG4gICAgICB0aGlzLmdhbGxlcnlSZWYuc2V0Q29uZmlnKHRoaXMuZ2V0Q29uZmlnKCkpO1xyXG5cclxuICAgICAgaWYgKGNoYW5nZXMuaXRlbXMgJiYgY2hhbmdlcy5pdGVtcy5jdXJyZW50VmFsdWUgIT09IGNoYW5nZXMuaXRlbXMucHJldmlvdXNWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMubG9hZCh0aGlzLml0ZW1zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICAvLyBHZXQgZ2FsbGVyeSBpbnN0YW5jZSBieSBpZFxyXG4gICAgaWYgKHRoaXMuc2tpcEluaXRDb25maWcpIHtcclxuICAgICAgdGhpcy5nYWxsZXJ5UmVmID0gdGhpcy5fZ2FsbGVyeS5yZWYodGhpcy5pZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbGxlcnlSZWYgPSB0aGlzLl9nYWxsZXJ5LnJlZih0aGlzLmlkLCB0aGlzLmdldENvbmZpZygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIGdhbGxlcnkgaXRlbXNcclxuICAgIHRoaXMubG9hZCh0aGlzLml0ZW1zKTtcclxuXHJcbiAgICAvLyBBY3RpdmF0ZSBwbGF5ZXIgbGlzdGVuZXJcclxuICAgIHRoaXMuX3BsYXllckxpc3RlbmVyJCA9IHRoaXMuZ2FsbGVyeVJlZi5hY3RpdmF0ZVBsYXllcigpLnN1YnNjcmliZSgpO1xyXG5cclxuICAgIC8vIFN1YnNjcmliZXMgdG8gZXZlbnRzIG9uIGRlbWFuZFxyXG4gICAgaWYgKHRoaXMuaW5kZXhDaGFuZ2Uub2JzZXJ2ZXJzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLl9pbmRleENoYW5nZSQgPSB0aGlzLmdhbGxlcnlSZWYuaW5kZXhDaGFuZ2VkLnN1YnNjcmliZSgoc3RhdGU6IEdhbGxlcnlTdGF0ZSkgPT4gdGhpcy5pbmRleENoYW5nZS5lbWl0KHN0YXRlKSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pdGVtc0NoYW5nZS5vYnNlcnZlcnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuX2l0ZW1DaGFuZ2UkID0gdGhpcy5nYWxsZXJ5UmVmLml0ZW1zQ2hhbmdlZC5zdWJzY3JpYmUoKHN0YXRlOiBHYWxsZXJ5U3RhdGUpID0+IHRoaXMuaXRlbXNDaGFuZ2UuZW1pdChzdGF0ZSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucGxheWluZ0NoYW5nZS5vYnNlcnZlcnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuX3BsYXlpbmdDaGFuZ2UkID0gdGhpcy5nYWxsZXJ5UmVmLnBsYXlpbmdDaGFuZ2VkLnN1YnNjcmliZSgoc3RhdGU6IEdhbGxlcnlTdGF0ZSkgPT4gdGhpcy5wbGF5aW5nQ2hhbmdlLmVtaXQoc3RhdGUpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGFydCBwbGF5aW5nIGlmIGF1dG8tcGxheSBpcyBzZXQgdG8gdHJ1ZVxyXG4gICAgaWYgKHRoaXMuYXV0b1BsYXkpIHtcclxuICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIHRoaXMuX2l0ZW1DbGljayQudW5zdWJzY3JpYmUoKTtcclxuICAgIHRoaXMuX3RodW1iQ2xpY2skLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB0aGlzLl9pdGVtQ2hhbmdlJC51bnN1YnNjcmliZSgpO1xyXG4gICAgdGhpcy5faW5kZXhDaGFuZ2UkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB0aGlzLl9wbGF5aW5nQ2hhbmdlJC51bnN1YnNjcmliZSgpO1xyXG4gICAgdGhpcy5fcGxheWVyTGlzdGVuZXIkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICBpZiAodGhpcy5kZXN0cm95UmVmKSB7XHJcbiAgICAgIHRoaXMuZ2FsbGVyeVJlZi5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkl0ZW1DbGljayhpOiBudW1iZXIpIHtcclxuICAgIHRoaXMuaXRlbUNsaWNrLmVtaXQoaSk7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuaXRlbUNsaWNrLm5leHQoaSk7XHJcbiAgfVxyXG5cclxuICBvblRodW1iQ2xpY2soaTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuc2V0KGkpO1xyXG4gICAgdGhpcy50aHVtYkNsaWNrLmVtaXQoaSk7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYudGh1bWJDbGljay5uZXh0KGkpO1xyXG4gIH1cclxuXHJcbiAgb25FcnJvcihlcnI6IEdhbGxlcnlFcnJvcikge1xyXG4gICAgdGhpcy5lcnJvci5lbWl0KGVycik7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuZXJyb3IubmV4dChlcnIpO1xyXG4gIH1cclxuXHJcbiAgbG9hZChpdGVtczogR2FsbGVyeUl0ZW1bXSkge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLmxvYWQoaXRlbXMpO1xyXG4gIH1cclxuXHJcbiAgYWRkKGl0ZW06IEdhbGxlcnlJdGVtLCBhY3RpdmU/OiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuYWRkKGl0ZW0sIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICBhZGRJbWFnZShkYXRhOiBhbnksIGFjdGl2ZT86IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuYWRkKG5ldyBJbWFnZUl0ZW0oZGF0YSksIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICBhZGRWaWRlbyhkYXRhOiBhbnksIGFjdGl2ZT86IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuYWRkKG5ldyBWaWRlb0l0ZW0oZGF0YSksIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICBhZGRJZnJhbWUoZGF0YTogYW55LCBhY3RpdmU/OiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmFkZChuZXcgSWZyYW1lSXRlbShkYXRhKSwgYWN0aXZlKTtcclxuICB9XHJcblxyXG4gIGFkZFlvdXR1YmUoZGF0YTogYW55LCBhY3RpdmU/OiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmFkZChuZXcgWW91dHViZUl0ZW0oZGF0YSksIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmUoaTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYucmVtb3ZlKGkpO1xyXG4gIH1cclxuXHJcbiAgbmV4dCgpIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5uZXh0KCk7XHJcbiAgfVxyXG5cclxuICBwcmV2KCkge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLnByZXYoKTtcclxuICB9XHJcblxyXG4gIHNldChpOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5zZXQoaSk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcGxheShpbnRlcnZhbD86IG51bWJlcikge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLnBsYXkoaW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgc3RvcCgpIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5zdG9wKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIsIFNhZmVSZXNvdXJjZVVybCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5LWlmcmFtZScsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxpZnJhbWUgI2lmcmFtZVxyXG4gICAgICAgICAgICBmcmFtZWJvcmRlcj1cIjBcIlxyXG4gICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW5cclxuICAgICAgICAgICAgW3NyY109XCJpZnJhbWVTcmNcIj5cclxuICAgIDwvaWZyYW1lPlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlJZnJhbWVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBpZnJhbWVTcmM6IFNhZmVSZXNvdXJjZVVybDtcclxuXHJcbiAgQElucHV0KCkgc3JjOiBzdHJpbmc7XHJcblxyXG4gIEBJbnB1dCgncGF1c2UnKSBzZXQgcGF1c2VWaWRlbyhzaG91bGRQYXVzZTogYm9vbGVhbikge1xyXG4gICAgY29uc3QgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCA9IHRoaXMuaWZyYW1lLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICBpZiAoc2hvdWxkUGF1c2UpIHtcclxuICAgICAgY29uc3Qgc3JjID0gaWZyYW1lLnNyYztcclxuICAgICAgaWZyYW1lLnNyYyA9IHNyYztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ2lmcmFtZScpIGlmcmFtZTogRWxlbWVudFJlZjtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy5pZnJhbWVTcmMgPSB0aGlzLl9zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsKHRoaXMuc3JjKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgSG9zdEJpbmRpbmcsIE9uSW5pdCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERvbVNhbml0aXplciwgU2FmZUh0bWwsIFNhZmVTdHlsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xyXG5pbXBvcnQgeyBhbmltYXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xyXG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZVNjaGVkdWxlciwgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktaW1hZ2UnLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIGFuaW1hdGlvbnM6IFtcclxuICAgIHRyaWdnZXIoJ2ZhZGVJbicsIFtcclxuICAgICAgdHJhbnNpdGlvbignOmVudGVyJywgW1xyXG4gICAgICAgIHN0eWxlKHtvcGFjaXR5OiAwfSksXHJcbiAgICAgICAgYW5pbWF0ZSgnMzAwbXMgZWFzZS1pbicsIHN0eWxlKHtvcGFjaXR5OiAxfSkpXHJcbiAgICAgIF0pXHJcbiAgICBdKVxyXG4gIF0sXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxuZy1jb250YWluZXIgW2xhenlJbWFnZV09XCJzcmNcIlxyXG4gICAgICAgICAgICAgICAgICBbbW9kZV09XCJtb2RlXCJcclxuICAgICAgICAgICAgICAgICAgKHByb2dyZXNzKT1cIm9uUHJvZ3Jlc3MoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgIChsb2FkZWQpPVwib25Mb2FkZWQoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgIChlcnJvcik9XCJvbkVycm9yKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICBbbmdTd2l0Y2hdPVwic3RhdGUgfCBhc3luY1wiPlxyXG5cclxuICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPVwiJ3N1Y2Nlc3MnXCJcclxuICAgICAgICAgICBAZmFkZUluXHJcbiAgICAgICAgICAgY2xhc3M9XCJnLWltYWdlLWl0ZW1cIlxyXG4gICAgICAgICAgIFtzdHlsZS5iYWNrZ3JvdW5kSW1hZ2VdPVwiaW1hZ2VVcmxcIj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XCInZmFpbGVkJ1wiXHJcbiAgICAgICAgICAgY2xhc3M9XCJnLWltYWdlLWVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICA8ZGl2ICpuZ0lmPVwiZXJyb3JUZW1wbGF0ZTsgZWxzZSBkZWZhdWx0RXJyb3JcIlxyXG4gICAgICAgICAgICAgW2lubmVySFRNTF09XCJlcnJvclRlbXBsYXRlXCI+PC9kaXY+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlICNkZWZhdWx0RXJyb3I+XHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiIWlzVGh1bWJuYWlsOyBlbHNlIGlzTGFyZ2VcIj5cclxuICAgICAgICAgICAgPGgyPsOiwprCoDwvaDI+XHJcbiAgICAgICAgICAgIDxwPlVuYWJsZSB0byBsb2FkIHRoZSBpbWFnZSE8L3A+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjaXNMYXJnZT5cclxuICAgICAgICAgICAgPGg0PsOiwprCoDwvaDQ+XHJcbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVwiJ2xvYWRpbmcnXCI+XHJcbiAgICAgICAgPGRpdiAqbmdJZj1cImlzVGh1bWJuYWlsOyBlbHNlIGlzTGFyZ2VcIiBjbGFzcz1cImctdGh1bWItbG9hZGluZ1wiPjwvZGl2PlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjaXNMYXJnZT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJnLWxvYWRpbmdcIj5cclxuICAgICAgICAgICAgPGkgKm5nSWY9XCJsb2FkZXJUZW1wbGF0ZTsgZWxzZSBwcm9ncmVzc0xvYWRlclwiXHJcbiAgICAgICAgICAgICAgIFtpbm5lckhUTUxdPVwibG9hZGVyVGVtcGxhdGVcIj48L2k+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjcHJvZ3Jlc3NMb2FkZXI+XHJcbiAgICAgICAgICAgIDxyYWRpYWwtcHJvZ3Jlc3MgW3ZhbHVlXT1cInByb2dyZXNzXCIgW21vZGVdPVwibW9kZVwiPjwvcmFkaWFsLXByb2dyZXNzPlxyXG4gICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG4gIGBcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5SW1hZ2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgdGhlIHN0YXRlICovXHJcbiAgcmVhZG9ubHkgc3RhdGUgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PCdsb2FkaW5nJyB8ICdzdWNjZXNzJyB8ICdmYWlsZWQnPignbG9hZGluZycpO1xyXG5cclxuICAvKiogUHJvZ3Jlc3MgdmFsdWUgKi9cclxuICBwcm9ncmVzcyA9IDA7XHJcblxyXG4gIC8qKiBJbWFnZSBsb2FkZXIgbW9kZSAqL1xyXG4gIEBJbnB1dCgpIG1vZGU6ICdkZXRlcm1pbmF0ZScgfCAnaW5kZXRlcm1pbmF0ZScgPSAnZGV0ZXJtaW5hdGUnO1xyXG5cclxuICAvKiogSXMgdGh1bWJuYWlsICovXHJcbiAgQElucHV0KCkgaXNUaHVtYm5haWw6IGJvb2xlYW47XHJcblxyXG4gIC8qKiBJbWFnZSBzb3VyY2UgVVJMICovXHJcbiAgQElucHV0KCkgc3JjOiBzdHJpbmc7XHJcbiAgLyoqIExvYWRlZCBpbWFnZSBVUkwgKi9cclxuICBpbWFnZVVybDogU2FmZVN0eWxlO1xyXG5cclxuICAvKiogQ3VzdG9tIGxvYWRlciB0ZW1wbGF0ZSAqL1xyXG4gIEBJbnB1dCgpIGxvYWRpbmdJY29uOiBzdHJpbmc7XHJcbiAgLyoqIEN1c3RvbSBsb2FkZXIgc2FmZSB0ZW1wbGF0ZSAqL1xyXG4gIGxvYWRlclRlbXBsYXRlOiBTYWZlSHRtbDtcclxuXHJcbiAgLyoqIEN1c3RvbSBlcnJvciB0ZW1wbGF0ZSAqL1xyXG4gIEBJbnB1dCgpIGxvYWRpbmdFcnJvcjogc3RyaW5nO1xyXG4gIC8qKiBDdXN0b20gZXJyb3Igc2FmZSB0ZW1wbGF0ZSAqL1xyXG4gIGVycm9yVGVtcGxhdGU6IFNhZmVIdG1sO1xyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBhbiBlcnJvciBvY2N1cnMgKi9cclxuICBAT3V0cHV0KCkgZXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyPEVycm9yPigpO1xyXG4gIC8qKiBsb2FkaW5nIGVycm9yICovXHJcbiAgbG9hZEVycm9yOiBFcnJvcjtcclxuXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5nLWltYWdlLWxvYWRlZCcpIGdldCBpbWFnZUxvYWRTdWNjZXNzKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICEhdGhpcy5pbWFnZVVybDtcclxuICB9XHJcblxyXG4gIEBIb3N0QmluZGluZygnY2xhc3MuZy1pbWFnZS1lcnJvcicpIGdldCBpbWFnZUxvYWRGYWlsZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISF0aGlzLmxvYWRFcnJvcjtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3Nhbml0aXplcjogRG9tU2FuaXRpemVyKSB7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmxvYWRpbmdJY29uKSB7XHJcbiAgICAgIHRoaXMubG9hZGVyVGVtcGxhdGUgPSB0aGlzLl9zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwodGhpcy5sb2FkaW5nSWNvbik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5sb2FkaW5nRXJyb3IpIHtcclxuICAgICAgdGhpcy5lcnJvclRlbXBsYXRlID0gdGhpcy5fc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKHRoaXMubG9hZGluZ0Vycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uUHJvZ3Jlc3Moe2xvYWRlZCwgdG90YWx9OiB7IGxvYWRlZDogbnVtYmVyLCB0b3RhbDogbnVtYmVyIH0pIHtcclxuICAgIHRoaXMucHJvZ3Jlc3MgPSBsb2FkZWQgKiAxMDAgLyB0b3RhbDtcclxuICB9XHJcblxyXG4gIG9uTG9hZGVkKGJsb2JVcmw6IHN0cmluZykge1xyXG4gICAgdGhpcy5pbWFnZVVybCA9IHRoaXMuX3Nhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0U3R5bGUoYHVybCgke2Jsb2JVcmx9KWApO1xyXG4gICAgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4gdGhpcy5zdGF0ZS5uZXh0KCdzdWNjZXNzJykpO1xyXG4gIH1cclxuXHJcbiAgb25FcnJvcihlcnI6IEVycm9yKSB7XHJcbiAgICB0aGlzLmxvYWRFcnJvciA9IGVycjtcclxuICAgIGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHRoaXMuc3RhdGUubmV4dCgnZmFpbGVkJykpO1xyXG4gICAgdGhpcy5lcnJvci5lbWl0KGVycik7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktdmlkZW8nLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8dmlkZW8gI3ZpZGVvIGNvbnRyb2xzIHBvc3Rlcj1cInt7cG9zdGVyfX1cIiAoZXJyb3IpPVwiZXJyb3IuZW1pdCgkZXZlbnQpXCI+XHJcbiAgICAgIDxzb3VyY2UgKm5nRm9yPVwibGV0IHNyYyBvZiB2aWRlb1NvdXJjZXNcIiBzcmM9XCJ7e3NyYz8udXJsfX1cIiB0eXBlPVwie3tzcmM/LnR5cGV9fVwiLz5cclxuICAgIDwvdmlkZW8+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeVZpZGVvQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgdmlkZW9Tb3VyY2VzOiB7dXJsOiBzdHJpbmcsIHR5cGU/OiBzdHJpbmd9W107XHJcblxyXG4gIEBJbnB1dCgpIHNyYzogc3RyaW5nIHwge3VybDogc3RyaW5nLCB0eXBlPzogc3RyaW5nfVtdO1xyXG4gIEBJbnB1dCgpIHBvc3Rlcjogc3RyaW5nO1xyXG5cclxuICBASW5wdXQoJ3BhdXNlJykgc2V0IHBhdXNlVmlkZW8oc2hvdWxkUGF1c2U6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50ID0gdGhpcy52aWRlby5uYXRpdmVFbGVtZW50O1xyXG4gICAgaWYgKHNob3VsZFBhdXNlICYmICF2aWRlby5wYXVzZWQpIHtcclxuICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGFuIGVycm9yIG9jY3VycyAqL1xyXG4gIEBPdXRwdXQoKSBlcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8RXJyb3I+KCk7XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ3ZpZGVvJykgdmlkZW86IEVsZW1lbnRSZWY7XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYgKHRoaXMuc3JjIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgLy8gSWYgdmlkZW8gaGFzIG11bHRpcGxlIHNvdXJjZXNcclxuICAgICAgdGhpcy52aWRlb1NvdXJjZXMgPSBbLi4udGhpcy5zcmNdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy52aWRlb1NvdXJjZXMgPSBbeyB1cmw6IHRoaXMuc3JjIH1dO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIsIFNhZmVIdG1sIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IEdhbGxlcnlTdGF0ZSB9IGZyb20gJy4uL21vZGVscy9nYWxsZXJ5Lm1vZGVsJztcclxuaW1wb3J0IHsgR2FsbGVyeUNvbmZpZyB9IGZyb20gJy4uL21vZGVscy9jb25maWcubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5LW5hdicsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxpICpuZ0lmPVwiY29uZmlnLmxvb3AgfHwgc3RhdGUuaGFzUHJldlwiXHJcbiAgICAgICBjbGFzcz1cImctbmF2LXByZXZcIlxyXG4gICAgICAgYXJpYS1sYWJlbD1cIlByZXZpb3VzXCJcclxuICAgICAgICh0YXBDbGljayk9XCJhY3Rpb24uZW1pdCgncHJldicpXCJcclxuICAgICAgIFtpbm5lckh0bWxdPVwibmF2SWNvblwiPjwvaT5cclxuXHJcbiAgICA8aSAqbmdJZj1cImNvbmZpZy5sb29wIHx8IHN0YXRlLmhhc05leHRcIlxyXG4gICAgICAgY2xhc3M9XCJnLW5hdi1uZXh0XCJcclxuICAgICAgIGFyaWEtbGFiZWw9XCJOZXh0XCJcclxuICAgICAgICh0YXBDbGljayk9XCJhY3Rpb24uZW1pdCgnbmV4dCcpXCJcclxuICAgICAgIFtpbm5lckh0bWxdPVwibmF2SWNvblwiPjwvaT5cclxuICBgXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5TmF2Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgbmF2SWNvbjogU2FmZUh0bWw7XHJcbiAgQElucHV0KCkgc3RhdGU6IEdhbGxlcnlTdGF0ZTtcclxuICBASW5wdXQoKSBjb25maWc6IEdhbGxlcnlDb25maWc7XHJcbiAgQE91dHB1dCgpIGFjdGlvbiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9zYW5pdGl6ZXI6IERvbVNhbml0aXplcikge1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLm5hdkljb24gPSB0aGlzLl9zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwodGhpcy5jb25maWcubmF2SWNvbik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgSG9zdEJpbmRpbmcsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR2FsbGVyeUVycm9yLCBHYWxsZXJ5U3RhdGUgfSBmcm9tICcuLi9tb2RlbHMvZ2FsbGVyeS5tb2RlbCc7XHJcbmltcG9ydCB7IEdhbGxlcnlDb25maWcgfSBmcm9tICcuLi9tb2RlbHMvY29uZmlnLm1vZGVsJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZ2FsbGVyeS1jb3JlJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGdhbGxlcnktdGh1bWJzICpuZ0lmPVwiY29uZmlnLnRodW1iXCJcclxuICAgICAgICAgICAgICAgICAgICBbc3RhdGVdPVwic3RhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtjb25maWddPVwiY29uZmlnXCJcclxuICAgICAgICAgICAgICAgICAgICAoYWN0aW9uKT1cImFjdGlvbi5lbWl0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICh0aHVtYkNsaWNrKT1cInRodW1iQ2xpY2suZW1pdCgkZXZlbnQpXCI+XHJcbiAgICA8L2dhbGxlcnktdGh1bWJzPlxyXG4gICAgPGRpdiBjbGFzcz1cImctYm94XCI+XHJcbiAgICAgIDxnYWxsZXJ5LXNsaWRlciBbc3RhdGVdPVwic3RhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW2NvbmZpZ109XCJjb25maWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKGFjdGlvbik9XCJhY3Rpb24uZW1pdCgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChpdGVtQ2xpY2spPVwiaXRlbUNsaWNrLmVtaXQoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAoZXJyb3IpPVwiZXJyb3IuZW1pdCgkZXZlbnQpXCI+XHJcblxyXG4gICAgICAgIDxnYWxsZXJ5LW5hdiAqbmdJZj1cImNvbmZpZy5uYXYgJiYgc3RhdGUuaXRlbXMubGVuZ3RoID4gMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgIFtzdGF0ZV09XCJzdGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgIFtjb25maWddPVwiY29uZmlnXCJcclxuICAgICAgICAgICAgICAgICAgICAgKGFjdGlvbik9XCJhY3Rpb24uZW1pdCgkZXZlbnQpXCI+XHJcbiAgICAgICAgPC9nYWxsZXJ5LW5hdj5cclxuXHJcbiAgICAgIDwvZ2FsbGVyeS1zbGlkZXI+XHJcblxyXG4gICAgICA8Z2FsbGVyeS1kb3RzICpuZ0lmPVwiY29uZmlnLmRvdHNcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtzdGF0ZV09XCJzdGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2NvbmZpZ109XCJjb25maWdcIlxyXG4gICAgICAgICAgICAgICAgICAgIChhY3Rpb24pPVwiYWN0aW9uLmVtaXQoJGV2ZW50KVwiPlxyXG4gICAgICA8L2dhbGxlcnktZG90cz5cclxuXHJcbiAgICAgIDxnYWxsZXJ5LWNvdW50ZXIgKm5nSWY9XCJjb25maWcuY291bnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgW3N0YXRlXT1cInN0YXRlXCI+XHJcbiAgICAgIDwvZ2FsbGVyeS1jb3VudGVyPlxyXG4gICAgPC9kaXY+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeUNvcmVDb21wb25lbnQge1xyXG5cclxuICBASW5wdXQoKSBzdGF0ZTogR2FsbGVyeVN0YXRlO1xyXG4gIEBJbnB1dCgpIGNvbmZpZzogR2FsbGVyeUNvbmZpZztcclxuICBAT3V0cHV0KCkgYWN0aW9uID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmcgfCBudW1iZXI+KCk7XHJcbiAgQE91dHB1dCgpIGl0ZW1DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPigpO1xyXG4gIEBPdXRwdXQoKSB0aHVtYkNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcbiAgQE91dHB1dCgpIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcjxHYWxsZXJ5RXJyb3I+KCk7XHJcblxyXG4gIC8qKiBTZXQgdGh1bWJuYWlscyBwb3NpdGlvbiAqL1xyXG4gIEBIb3N0QmluZGluZygnYXR0ci50aHVtYlBvc2l0aW9uJykgZ2V0IHRodW1iUG9zaXRpb24oKTogJ3RvcCcgfCAnbGVmdCcgfCAncmlnaHQnIHwgJ2JvdHRvbScge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnRodW1iUG9zaXRpb247XHJcbiAgfVxyXG5cclxuICAvKiogU2V0IHNsaWRpbmcgZGlyZWN0aW9uICovXHJcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnNsaWRpbmdEaXJlY3Rpb24nKSBnZXQgc2xpZGluZ0RpcmVjdGlvbigpOiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmZpZy5zbGlkaW5nRGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqIERpc2FibGUgdGh1bWJuYWlscyBjbGlja3MgKi9cclxuICBASG9zdEJpbmRpbmcoJ2F0dHIuZGlzYWJsZVRodW1iJykgZ2V0IGRpc2FibGVUaHVtYigpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmZpZy5kaXNhYmxlVGh1bWI7XHJcbiAgfVxyXG5cclxuICAvKiogU2V0IGdhbGxlcnkgaW1hZ2Ugc2l6ZSAqL1xyXG4gIEBIb3N0QmluZGluZygnYXR0ci5pbWFnZVNpemUnKSBnZXQgaW1hZ2VTaXplKCk6ICdjb3ZlcicgfCAnY29udGFpbicge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmltYWdlU2l6ZTtcclxuICB9XHJcblxyXG4gIC8qKiBTZXQgZ2FsbGVyeSBkb3RzIHBvc2l0aW9uICovXHJcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLmRvdHNQb3NpdGlvbicpIGdldCBkb3RzUG9zaXRpb24oKTogJ3RvcCcgfCAnYm90dG9tJyB7XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZG90c1Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqIFNldCBnYWxsZXJ5IGNvdW50ZXIgcG9zaXRpb24gKi9cclxuICBASG9zdEJpbmRpbmcoJ2F0dHIuY291bnRlclBvc2l0aW9uJykgZ2V0IGNvdW50ZXJQb3NpdGlvbigpOiAndG9wJyB8ICdib3R0b20nIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb3VudGVyUG9zaXRpb247XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR2FsbGVyeVN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzL2dhbGxlcnkubW9kZWwnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi4vbW9kZWxzL2NvbmZpZy5tb2RlbCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktZG90cycsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgY2xhc3M9XCJnLWRvdFwiXHJcbiAgICAgICAgICpuZ0Zvcj1cImxldCBpdGVtIG9mIHN0YXRlLml0ZW1zOyBsZXQgaSA9IGluZGV4XCJcclxuICAgICAgICAgW2NsYXNzLmctZG90LWFjdGl2ZV09XCJpID09PSBzdGF0ZS5jdXJySW5kZXhcIlxyXG4gICAgICAgICBbc3R5bGUud2lkdGgucHhdPVwiY29uZmlnPy5kb3RzU2l6ZVwiXHJcbiAgICAgICAgIFtzdHlsZS5oZWlnaHQucHhdPVwiY29uZmlnPy5kb3RzU2l6ZVwiXHJcbiAgICAgICAgICh0YXBDbGljayk9XCJhY3Rpb24uZW1pdChpKVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZy1kb3QtaW5uZXJcIj48L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlEb3RzQ29tcG9uZW50IHtcclxuICBASW5wdXQoKSBzdGF0ZTogR2FsbGVyeVN0YXRlO1xyXG4gIEBJbnB1dCgpIGNvbmZpZzogR2FsbGVyeUNvbmZpZztcclxuICBAT3V0cHV0KCkgYWN0aW9uID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgSW5wdXQsXHJcbiAgT3V0cHV0LFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkluaXQsXHJcbiAgT25DaGFuZ2VzLFxyXG4gIEhvc3RCaW5kaW5nLFxyXG4gIE5nWm9uZSxcclxuICBFbGVtZW50UmVmLFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZVNjaGVkdWxlciwgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgR2FsbGVyeUNvbmZpZyB9IGZyb20gJy4uL21vZGVscy9jb25maWcubW9kZWwnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5U3RhdGUsIEdhbGxlcnlFcnJvciB9IGZyb20gJy4uL21vZGVscy9nYWxsZXJ5Lm1vZGVsJztcclxuaW1wb3J0IHsgVGh1bWJuYWlsc1Bvc2l0aW9uLCBUaHVtYm5haWxzTW9kZSB9IGZyb20gJy4uL21vZGVscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBTbGlkZXJTdGF0ZSwgV29ya2VyU3RhdGUgfSBmcm9tICcuLi9tb2RlbHMvc2xpZGVyLm1vZGVsJztcclxuXHJcbmRlY2xhcmUgY29uc3QgSGFtbWVyOiBhbnk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktdGh1bWJzJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdiAqbmdJZj1cInNsaWRlclN0YXRlJCB8IGFzeW5jOyBsZXQgc2xpZGVyU3RhdGVcIlxyXG4gICAgICAgICBjbGFzcz1cImctdGh1bWJzLWNvbnRhaW5lclwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZy1zbGlkZXJcIlxyXG4gICAgICAgICAgIFtjbGFzcy5nLW5vLXRyYW5zaXRpb25dPVwic2xpZGVyU3RhdGUuYWN0aXZlXCJcclxuICAgICAgICAgICBbbmdTdHlsZV09XCJzbGlkZXJTdGF0ZS5zdHlsZVwiPlxyXG5cclxuICAgICAgICA8Z2FsbGVyeS10aHVtYiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcztsZXQgaSA9IGluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICBbdHlwZV09XCJpdGVtLnR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIFtjb25maWddPVwiY29uZmlnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICBbZGF0YV09XCJpdGVtLmRhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIFtjdXJySW5kZXhdPVwic3RhdGUuY3VyckluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICBbaW5kZXhdPVwiaVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgW3RhcENsaWNrRGlzYWJsZWRdPVwiY29uZmlnLmRpc2FibGVUaHVtYlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgKHRhcENsaWNrKT1cInRodW1iQ2xpY2suZW1pdChpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yKT1cImVycm9yLmVtaXQoe2l0ZW1JbmRleDogaSwgZXJyb3I6ICRldmVudH0pXCI+PC9nYWxsZXJ5LXRodW1iPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlUaHVtYnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcclxuXHJcbiAgLyoqIFNsaWRpbmcgd29ya2VyICovXHJcbiAgcHJpdmF0ZSByZWFkb25seSBfc2xpZGluZ1dvcmtlciQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFdvcmtlclN0YXRlPih7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuXHJcbiAgLyoqIEhhbW1lckpTIGluc3RhbmNlICovXHJcbiAgcHJpdmF0ZSBfaGFtbWVyOiBhbnk7XHJcblxyXG4gIC8qKiBDdXJyZW50IHNsaWRlciBwb3NpdGlvbiBpbiBmcmVlIHNsaWRpbmcgbW9kZSAqL1xyXG4gIHByaXZhdGUgX2ZyZWVNb2RlQ3VycmVudE9mZnNldCA9IDA7XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyBzbGlkaW5nIHN0YXRlICovXHJcbiAgc2xpZGVyU3RhdGUkOiBPYnNlcnZhYmxlPFNsaWRlclN0YXRlPjtcclxuXHJcbiAgLyoqIEdhbGxlcnkgc3RhdGUgKi9cclxuICBASW5wdXQoKSBzdGF0ZTogR2FsbGVyeVN0YXRlO1xyXG5cclxuICAvKiogR2FsbGVyeSBjb25maWcgKi9cclxuICBASW5wdXQoKSBjb25maWc6IEdhbGxlcnlDb25maWc7XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIHRoZSBhY3RpdmUgaXRlbSBzaG91bGQgY2hhbmdlICovXHJcbiAgQE91dHB1dCgpIGFjdGlvbiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nIHwgbnVtYmVyPigpO1xyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiB0aHVtYiBpcyBjbGlja2VkICovXHJcbiAgQE91dHB1dCgpIHRodW1iQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuXHJcbiAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gYW4gZXJyb3Igb2NjdXJzICovXHJcbiAgQE91dHB1dCgpIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcjxHYWxsZXJ5RXJyb3I+KCk7XHJcblxyXG4gIC8qKiBIb3N0IGhlaWdodCAqL1xyXG4gIEBIb3N0QmluZGluZygnc3R5bGUuaGVpZ2h0JykgaGVpZ2h0OiBzdHJpbmc7XHJcblxyXG4gIC8qKiBIb3N0IHdpZHRoICovXHJcbiAgQEhvc3RCaW5kaW5nKCdzdHlsZS53aWR0aCcpIHdpZHRoOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2VsOiBFbGVtZW50UmVmLCBwcml2YXRlIF96b25lOiBOZ1pvbmUpIHtcclxuXHJcbiAgICAvLyBBY3RpdmF0ZSBzbGlkaW5nIHdvcmtlclxyXG4gICAgdGhpcy5zbGlkZXJTdGF0ZSQgPSB0aGlzLl9zbGlkaW5nV29ya2VyJC5waXBlKG1hcCgoc3RhdGU6IFdvcmtlclN0YXRlKSA9PiAoe1xyXG4gICAgICBzdHlsZTogdGhpcy5nZXRTbGlkZXJTdHlsZXMoc3RhdGUpLFxyXG4gICAgICBhY3RpdmU6IHN0YXRlLmFjdGl2ZVxyXG4gICAgfSkpKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKCkge1xyXG4gICAgLy8gUmVmcmVzaCB0aGUgc2xpZGVyXHJcbiAgICB0aGlzLnVwZGF0ZVNsaWRlcih7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuICAgIHRoaXMuX2ZyZWVNb2RlQ3VycmVudE9mZnNldCA9IDA7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmNvbmZpZy5nZXN0dXJlcyAmJiAhdGhpcy5jb25maWcuZGlzYWJsZVRodW1iICYmIHR5cGVvZiBIYW1tZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICBsZXQgZGlyZWN0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLnRodW1iUG9zaXRpb24pIHtcclxuICAgICAgICBjYXNlIFRodW1ibmFpbHNQb3NpdGlvbi5SaWdodDpcclxuICAgICAgICBjYXNlIFRodW1ibmFpbHNQb3NpdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgZGlyZWN0aW9uID0gSGFtbWVyLkRJUkVDVElPTl9WRVJUSUNBTDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLlRvcDpcclxuICAgICAgICBjYXNlIFRodW1ibmFpbHNQb3NpdGlvbi5Cb3R0b206XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSBIYW1tZXIuRElSRUNUSU9OX0hPUklaT05UQUw7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWN0aXZhdGUgZ2VzdHVyZXNcclxuICAgICAgdGhpcy5faGFtbWVyID0gbmV3IEhhbW1lcih0aGlzLl9lbC5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgdGhpcy5faGFtbWVyLmdldCgncGFuJykuc2V0KHtkaXJlY3Rpb259KTtcclxuXHJcbiAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xyXG4gICAgICAgIC8vIE1vdmUgdGhlIHNsaWRlclxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcudGh1bWJNb2RlKSB7XHJcbiAgICAgICAgICBjYXNlIFRodW1ibmFpbHNNb2RlLlN0cmljdDpcclxuICAgICAgICAgICAgdGhpcy5faGFtbWVyLm9uKCdwYW4nLCAoZSkgPT4gdGhpcy5zdHJpY3RNb2RlKGUpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFRodW1ibmFpbHNNb2RlLkZyZWU6XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbW1lci5vbigncGFuJywgKGUpID0+IHRoaXMuZnJlZU1vZGUoZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLl9oYW1tZXIpIHtcclxuICAgICAgdGhpcy5faGFtbWVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNsaWRpbmcgc3RyaWN0IG1vZGVcclxuICAgKi9cclxuICBwcml2YXRlIHN0cmljdE1vZGUoZSkge1xyXG4gICAgc3dpdGNoICh0aGlzLmNvbmZpZy50aHVtYlBvc2l0aW9uKSB7XHJcbiAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLlJpZ2h0OlxyXG4gICAgICBjYXNlIFRodW1ibmFpbHNQb3NpdGlvbi5MZWZ0OlxyXG4gICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogZS5kZWx0YVksIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIGlmIChlLmlzRmluYWwpIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgdGhpcy52ZXJ0aWNhbFBhbihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLlRvcDpcclxuICAgICAgY2FzZSBUaHVtYm5haWxzUG9zaXRpb24uQm90dG9tOlxyXG4gICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogZS5kZWx0YVgsIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIGlmIChlLmlzRmluYWwpIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgdGhpcy5ob3Jpem9udGFsUGFuKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNsaWRpbmcgZnJlZSBtb2RlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBmcmVlTW9kZShlKSB7XHJcbiAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLnRodW1iUG9zaXRpb24pIHtcclxuICAgICAgY2FzZSBUaHVtYm5haWxzUG9zaXRpb24uUmlnaHQ6XHJcbiAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLkxlZnQ6XHJcbiAgICAgICAgdGhpcy51cGRhdGVTbGlkZXIoe3ZhbHVlOiB0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQgKyBlLmRlbHRhWSwgYWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgaWYgKGUuaXNGaW5hbCkge1xyXG4gICAgICAgICAgaWYgKHRoaXMubWluRnJlZVNjcm9sbEV4Y2VlZGVkKGUuZGVsdGFZLCB0aGlzLmNvbmZpZy50aHVtYldpZHRoLCB0aGlzLmNvbmZpZy50aHVtYkhlaWdodCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZnJlZU1vZGVDdXJyZW50T2Zmc2V0ID0gLSh0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAtIDEgLSB0aGlzLnN0YXRlLmN1cnJJbmRleCkgKiB0aGlzLmNvbmZpZy50aHVtYkhlaWdodDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXhGcmVlU2Nyb2xsRXhjZWVkZWQoZS5kZWx0YVksIHRoaXMuY29uZmlnLnRodW1iSGVpZ2h0LCB0aGlzLmNvbmZpZy50aHVtYldpZHRoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQgPSB0aGlzLnN0YXRlLmN1cnJJbmRleCAqIHRoaXMuY29uZmlnLnRodW1iSGVpZ2h0O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZnJlZU1vZGVDdXJyZW50T2Zmc2V0ICs9IGUuZGVsdGFZO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy51cGRhdGVTbGlkZXIoe3ZhbHVlOiB0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQsIGFjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLlRvcDpcclxuICAgICAgY2FzZSBUaHVtYm5haWxzUG9zaXRpb24uQm90dG9tOlxyXG4gICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogdGhpcy5fZnJlZU1vZGVDdXJyZW50T2Zmc2V0ICsgZS5kZWx0YVgsIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIGlmIChlLmlzRmluYWwpIHtcclxuICAgICAgICAgIGlmICh0aGlzLm1pbkZyZWVTY3JvbGxFeGNlZWRlZChlLmRlbHRhWCwgdGhpcy5jb25maWcudGh1bWJIZWlnaHQsIHRoaXMuY29uZmlnLnRodW1iV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyZWVNb2RlQ3VycmVudE9mZnNldCA9IC0odGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGggLSAxIC0gdGhpcy5zdGF0ZS5jdXJySW5kZXgpICogdGhpcy5jb25maWcudGh1bWJXaWR0aDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXhGcmVlU2Nyb2xsRXhjZWVkZWQoZS5kZWx0YVgsIHRoaXMuY29uZmlnLnRodW1iV2lkdGgsIHRoaXMuY29uZmlnLnRodW1iSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQgPSB0aGlzLnN0YXRlLmN1cnJJbmRleCAqIHRoaXMuY29uZmlnLnRodW1iV2lkdGg7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQgKz0gZS5kZWx0YVg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVNsaWRlcih7dmFsdWU6IHRoaXMuX2ZyZWVNb2RlQ3VycmVudE9mZnNldCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHRoZSBtaW5pbXVtIGZyZWUgc2Nyb2xsIGlzIGV4Y2VlZGVkICh1c2VkIGluIEJvdHRvbSwgTGVmdCBkaXJlY3Rpb25zKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgbWluRnJlZVNjcm9sbEV4Y2VlZGVkKGRlbHRhOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gLSh0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQgKyBkZWx0YSAtIHdpZHRoIC8gMikgPiAodGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGggLSB0aGlzLnN0YXRlLmN1cnJJbmRleCkgKiBoZWlnaHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgbWF4aW11bSBmcmVlIHNjcm9sbCBpcyBleGNlZWRlZCAodXNlZCBpbiBUb3AsIFJpZ2h0IGRpcmVjdGlvbnMpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBtYXhGcmVlU2Nyb2xsRXhjZWVkZWQoZGVsdGE6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9mcmVlTW9kZUN1cnJlbnRPZmZzZXQgKyBkZWx0YSA+ICh0aGlzLnN0YXRlLmN1cnJJbmRleCAqIHdpZHRoKSArIChoZWlnaHQgLyAyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgc2xpZGluZyBzdGF0ZSB0byBzdHlsZXNcclxuICAgKi9cclxuICBwcml2YXRlIGdldFNsaWRlclN0eWxlcyhzdGF0ZTogV29ya2VyU3RhdGUpOiBhbnkge1xyXG4gICAgbGV0IHZhbHVlOiBudW1iZXI7XHJcbiAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLnRodW1iUG9zaXRpb24pIHtcclxuICAgICAgY2FzZSBUaHVtYm5haWxzUG9zaXRpb24uVG9wOlxyXG4gICAgICBjYXNlIFRodW1ibmFpbHNQb3NpdGlvbi5Cb3R0b206XHJcbiAgICAgICAgdGhpcy53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY29uZmlnLnRodW1iSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICB2YWx1ZSA9IC0odGhpcy5zdGF0ZS5jdXJySW5kZXggKiB0aGlzLmNvbmZpZy50aHVtYldpZHRoKSAtICh0aGlzLmNvbmZpZy50aHVtYldpZHRoIC8gMiAtIHN0YXRlLnZhbHVlKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHt2YWx1ZX1weCwgMCwgMClgLFxyXG4gICAgICAgICAgd2lkdGg6IHRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoICogdGhpcy5jb25maWcudGh1bWJXaWR0aCArICdweCcsXHJcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLkxlZnQ6XHJcbiAgICAgIGNhc2UgVGh1bWJuYWlsc1Bvc2l0aW9uLlJpZ2h0OlxyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNvbmZpZy50aHVtYldpZHRoICsgJ3B4JztcclxuICAgICAgICB0aGlzLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICB2YWx1ZSA9IC0odGhpcy5zdGF0ZS5jdXJySW5kZXggKiB0aGlzLmNvbmZpZy50aHVtYkhlaWdodCkgLSAodGhpcy5jb25maWcudGh1bWJIZWlnaHQgLyAyIC0gc3RhdGUudmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgwLCAke3ZhbHVlfXB4LCAwKWAsXHJcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAqIHRoaXMuY29uZmlnLnRodW1iSGVpZ2h0ICsgJ3B4J1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHZlcnRpY2FsUGFuKGU6IGFueSkge1xyXG4gICAgaWYgKCEoZS5kaXJlY3Rpb24gJiBIYW1tZXIuRElSRUNUSU9OX1VQICYmIGUub2Zmc2V0RGlyZWN0aW9uICYgSGFtbWVyLkRJUkVDVElPTl9WRVJUSUNBTCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGUudmVsb2NpdHlZID4gMC4zKSB7XHJcbiAgICAgIHRoaXMucHJldigpO1xyXG4gICAgfSBlbHNlIGlmIChlLnZlbG9jaXR5WSA8IC0wLjMpIHtcclxuICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZS5kZWx0YVkgLyAyIDw9IC10aGlzLmNvbmZpZy50aHVtYkhlaWdodCAqIHRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoIC8gdGhpcy5jb25maWcucGFuU2Vuc2l0aXZpdHkpIHtcclxuICAgICAgICB0aGlzLm5leHQoKTtcclxuICAgICAgfSBlbHNlIGlmIChlLmRlbHRhWSAvIDIgPj0gdGhpcy5jb25maWcudGh1bWJIZWlnaHQgKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5wcmV2KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb24uZW1pdCh0aGlzLnN0YXRlLmN1cnJJbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaG9yaXpvbnRhbFBhbihlOiBhbnkpIHtcclxuICAgIGlmICghKGUuZGlyZWN0aW9uICYgSGFtbWVyLkRJUkVDVElPTl9IT1JJWk9OVEFMICYmIGUub2Zmc2V0RGlyZWN0aW9uICYgSGFtbWVyLkRJUkVDVElPTl9IT1JJWk9OVEFMKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoZS52ZWxvY2l0eVggPiAwLjMpIHtcclxuICAgICAgdGhpcy5wcmV2KCk7XHJcbiAgICB9IGVsc2UgaWYgKGUudmVsb2NpdHlYIDwgLTAuMykge1xyXG4gICAgICB0aGlzLm5leHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChlLmRlbHRhWCAvIDIgPD0gLXRoaXMuY29uZmlnLnRodW1iV2lkdGggKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5kZWx0YVggLyAyID49IHRoaXMuY29uZmlnLnRodW1iV2lkdGggKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5wcmV2KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb24uZW1pdCh0aGlzLnN0YXRlLmN1cnJJbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgbmV4dCgpIHtcclxuICAgIHRoaXMuYWN0aW9uLmVtaXQoJ25leHQnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJldigpIHtcclxuICAgIHRoaXMuYWN0aW9uLmVtaXQoJ3ByZXYnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlU2xpZGVyKHN0YXRlOiBXb3JrZXJTdGF0ZSkge1xyXG4gICAgY29uc3QgbmV3U3RhdGU6IFdvcmtlclN0YXRlID0gey4uLnRoaXMuX3NsaWRpbmdXb3JrZXIkLnZhbHVlLCAuLi5zdGF0ZX07XHJcbiAgICBhbmltYXRpb25GcmFtZVNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB0aGlzLl9zbGlkaW5nV29ya2VyJC5uZXh0KG5ld1N0YXRlKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBJbmplY3QsXHJcbiAgTmdab25lLFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gIFBMQVRGT1JNX0lEXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IGlzUGxhdGZvcm1Ccm93c2VyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlLCBTdWJzY3JpcHRpb24sIGZyb21FdmVudCwgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgbWFwLCB0YXAsIGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgR2FsbGVyeVN0YXRlLCBHYWxsZXJ5RXJyb3IgfSBmcm9tICcuLi9tb2RlbHMvZ2FsbGVyeS5tb2RlbCc7XHJcbmltcG9ydCB7IEdhbGxlcnlDb25maWcgfSBmcm9tICcuLi9tb2RlbHMvY29uZmlnLm1vZGVsJztcclxuaW1wb3J0IHsgU2xpZGluZ0RpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBTbGlkZXJTdGF0ZSwgV29ya2VyU3RhdGUgfSBmcm9tICcuLi9tb2RlbHMvc2xpZGVyLm1vZGVsJztcclxuXHJcbmRlY2xhcmUgY29uc3QgSGFtbWVyOiBhbnk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktc2xpZGVyJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdiAqbmdJZj1cInNsaWRlclN0YXRlJCB8IGFzeW5jOyBsZXQgc2xpZGVyU3RhdGVcIlxyXG4gICAgICAgICBjbGFzcz1cImctaXRlbXMtY29udGFpbmVyXCJcclxuICAgICAgICAgW25nU3R5bGVdPVwiem9vbVwiPlxyXG5cclxuICAgICAgPGRpdiBjbGFzcz1cImctc2xpZGVyXCJcclxuICAgICAgICAgICBbY2xhc3MuZy1uby10cmFuc2l0aW9uXT1cInNsaWRlclN0YXRlLmFjdGl2ZVwiXHJcbiAgICAgICAgICAgW25nU3R5bGVdPVwic2xpZGVyU3RhdGUuc3R5bGVcIj5cclxuXHJcbiAgICAgICAgPGdhbGxlcnktaXRlbSAqbmdGb3I9XCJsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtczsgbGV0IGkgPSBpbmRleFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBbdHlwZV09XCJpdGVtLnR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW2NvbmZpZ109XCJjb25maWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW2RhdGFdPVwiaXRlbS5kYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtjdXJySW5kZXhdPVwic3RhdGUuY3VyckluZGV4XCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtpbmRleF09XCJpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICh0YXBDbGljayk9XCJpdGVtQ2xpY2suZW1pdChpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAoZXJyb3IpPVwiZXJyb3IuZW1pdCh7aXRlbUluZGV4OiBpLCBlcnJvcjogJGV2ZW50fSlcIj5cclxuICAgICAgICA8L2dhbGxlcnktaXRlbT5cclxuXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeVNsaWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG5cclxuICAvKiogU2xpZGluZyB3b3JrZXIgKi9cclxuICBwcml2YXRlIHJlYWRvbmx5IF9zbGlkaW5nV29ya2VyJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8V29ya2VyU3RhdGU+KHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG5cclxuICAvKiogSGFtbWVySlMgaW5zdGFuY2UgKi9cclxuICBwcml2YXRlIF9oYW1tZXI6IGFueTtcclxuXHJcbiAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gdGhlIHZpZXcgaXMgcmUtc2l6ZWQgKi9cclxuICBwcml2YXRlIF9yZXNpemVTdWIkOiBTdWJzY3JpcHRpb247XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyBzbGlkaW5nIHN0YXRlICovXHJcbiAgc2xpZGVyU3RhdGUkOiBPYnNlcnZhYmxlPFNsaWRlclN0YXRlPjtcclxuXHJcbiAgLyoqIEdhbGxlcnkgc3RhdGUgKi9cclxuICBASW5wdXQoKSBzdGF0ZTogR2FsbGVyeVN0YXRlO1xyXG5cclxuICAvKiogR2FsbGVyeSBjb25maWcgKi9cclxuICBASW5wdXQoKSBjb25maWc6IEdhbGxlcnlDb25maWc7XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIHRoZSBhY3RpdmUgaXRlbSBzaG91bGQgY2hhbmdlICovXHJcbiAgQE91dHB1dCgpIGFjdGlvbiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nIHwgbnVtYmVyPigpO1xyXG5cclxuICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBpdGVtIGlzIGNsaWNrZWQgKi9cclxuICBAT3V0cHV0KCkgaXRlbUNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGFuIGVycm9yIG9jY3VycyAqL1xyXG4gIEBPdXRwdXQoKSBlcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeUVycm9yPigpO1xyXG5cclxuICAvKiogSXRlbSB6b29tICovXHJcbiAgZ2V0IHpvb20oKSB7XHJcbiAgICByZXR1cm4ge3RyYW5zZm9ybTogYHBlcnNwZWN0aXZlKDUwcHgpIHRyYW5zbGF0ZTNkKDAsIDAsICR7LXRoaXMuY29uZmlnLnpvb21PdXR9cHgpYH07XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9lbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBfem9uZTogTmdab25lLCBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtOiBPYmplY3QpIHtcclxuXHJcbiAgICAvLyBBY3RpdmF0ZSBzbGlkaW5nIHdvcmtlclxyXG4gICAgdGhpcy5zbGlkZXJTdGF0ZSQgPSB0aGlzLl9zbGlkaW5nV29ya2VyJC5waXBlKG1hcCgoc3RhdGU6IFdvcmtlclN0YXRlKSA9PiAoe1xyXG4gICAgICBzdHlsZTogdGhpcy5nZXRTbGlkZXJTdHlsZXMoc3RhdGUpLFxyXG4gICAgICBhY3RpdmU6IHN0YXRlLmFjdGl2ZVxyXG4gICAgfSkpKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKCkge1xyXG4gICAgLy8gUmVmcmVzaCB0aGUgc2xpZGVyXHJcbiAgICB0aGlzLnVwZGF0ZVNsaWRlcih7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYgKHRoaXMuY29uZmlnLmdlc3R1cmVzICYmIHR5cGVvZiBIYW1tZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmNvbmZpZy5zbGlkaW5nRGlyZWN0aW9uID09PSBTbGlkaW5nRGlyZWN0aW9uLkhvcml6b250YWxcclxuICAgICAgICA/IEhhbW1lci5ESVJFQ1RJT05fSE9SSVpPTlRBTFxyXG4gICAgICAgIDogSGFtbWVyLkRJUkVDVElPTl9WRVJUSUNBTDtcclxuXHJcbiAgICAgIC8vIEFjdGl2YXRlIGdlc3R1cmVzXHJcbiAgICAgIHRoaXMuX2hhbW1lciA9IG5ldyBIYW1tZXIodGhpcy5fZWwubmF0aXZlRWxlbWVudCk7XHJcbiAgICAgIHRoaXMuX2hhbW1lci5nZXQoJ3BhbicpLnNldCh7ZGlyZWN0aW9ufSk7XHJcblxyXG4gICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgICAvLyBNb3ZlIHRoZSBzbGlkZXJcclxuICAgICAgICB0aGlzLl9oYW1tZXIub24oJ3BhbicsIChlKSA9PiB7XHJcblxyXG4gICAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy5zbGlkaW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2xpZGluZ0RpcmVjdGlvbi5Ib3Jpem9udGFsOlxyXG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogZS5kZWx0YVgsIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgIGlmIChlLmlzRmluYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsUGFuKGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTbGlkaW5nRGlyZWN0aW9uLlZlcnRpY2FsOlxyXG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogZS5kZWx0YVksIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgIGlmIChlLmlzRmluYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFBhbihlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlYXJyYW5nZSBzbGlkZXIgb24gd2luZG93IHJlc2l6ZVxyXG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm0pKSB7XHJcbiAgICAgIHRoaXMuX3Jlc2l6ZVN1YiQgPSBmcm9tRXZlbnQod2luZG93LCAncmVzaXplJykucGlwZShcclxuICAgICAgICBkZWJvdW5jZVRpbWUoMjAwKSxcclxuICAgICAgICB0YXAoKCkgPT4gdGhpcy51cGRhdGVTbGlkZXIodGhpcy5fc2xpZGluZ1dvcmtlciQudmFsdWUpKVxyXG4gICAgICApLnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGVTbGlkZXIoe3ZhbHVlOiAwLCBhY3RpdmU6IGZhbHNlfSkpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICBpZiAodGhpcy5faGFtbWVyKSB7XHJcbiAgICAgIHRoaXMuX2hhbW1lci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fcmVzaXplU3ViJCkge1xyXG4gICAgICB0aGlzLl9yZXNpemVTdWIkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9zbGlkaW5nV29ya2VyJC5jb21wbGV0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBzbGlkaW5nIHN0YXRlIHRvIHN0eWxlc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0U2xpZGVyU3R5bGVzKHN0YXRlOiBXb3JrZXJTdGF0ZSk6IGFueSB7XHJcbiAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLnNsaWRpbmdEaXJlY3Rpb24pIHtcclxuICAgICAgY2FzZSBTbGlkaW5nRGlyZWN0aW9uLkhvcml6b250YWw6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7LSh0aGlzLnN0YXRlLmN1cnJJbmRleCAqIHRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGgpICsgc3RhdGUudmFsdWV9cHgsIDAsIDApYCxcclxuICAgICAgICAgIHdpZHRoOiBgY2FsYygxMDAlICogJHt0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aH0pYCxcclxuICAgICAgICAgIGhlaWdodDogJzEwMCUnXHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSBTbGlkaW5nRGlyZWN0aW9uLlZlcnRpY2FsOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgwLCAkey0odGhpcy5zdGF0ZS5jdXJySW5kZXggKiB0aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCkgKyBzdGF0ZS52YWx1ZX1weCwgMClgLFxyXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgIGhlaWdodDogYGNhbGMoMTAwJSAqICR7dGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGh9KWAsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgdmVydGljYWxQYW4oZSkge1xyXG4gICAgaWYgKCEoZS5kaXJlY3Rpb24gJiBIYW1tZXIuRElSRUNUSU9OX1VQICYmIGUub2Zmc2V0RGlyZWN0aW9uICYgSGFtbWVyLkRJUkVDVElPTl9WRVJUSUNBTCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGUudmVsb2NpdHlZID4gMC4zKSB7XHJcbiAgICAgIHRoaXMucHJldigpO1xyXG4gICAgfSBlbHNlIGlmIChlLnZlbG9jaXR5WSA8IC0wLjMpIHtcclxuICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZS5kZWx0YVkgLyAyIDw9IC10aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCAqIHRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoIC8gdGhpcy5jb25maWcucGFuU2Vuc2l0aXZpdHkpIHtcclxuICAgICAgICB0aGlzLm5leHQoKTtcclxuICAgICAgfSBlbHNlIGlmIChlLmRlbHRhWSAvIDIgPj0gdGhpcy5fZWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5wcmV2KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb24uZW1pdCh0aGlzLnN0YXRlLmN1cnJJbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaG9yaXpvbnRhbFBhbihlKSB7XHJcbiAgICBpZiAoIShlLmRpcmVjdGlvbiAmIEhhbW1lci5ESVJFQ1RJT05fSE9SSVpPTlRBTCAmJiBlLm9mZnNldERpcmVjdGlvbiAmIEhhbW1lci5ESVJFQ1RJT05fSE9SSVpPTlRBTCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGUudmVsb2NpdHlYID4gMC4zKSB7XHJcbiAgICAgIHRoaXMucHJldigpO1xyXG4gICAgfSBlbHNlIGlmIChlLnZlbG9jaXR5WCA8IC0wLjMpIHtcclxuICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZS5kZWx0YVggLyAyIDw9IC10aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGggLyB0aGlzLmNvbmZpZy5wYW5TZW5zaXRpdml0eSkge1xyXG4gICAgICAgIHRoaXMubmV4dCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUuZGVsdGFYIC8gMiA+PSB0aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGggLyB0aGlzLmNvbmZpZy5wYW5TZW5zaXRpdml0eSkge1xyXG4gICAgICAgIHRoaXMucHJldigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYWN0aW9uLmVtaXQodGhpcy5zdGF0ZS5jdXJySW5kZXgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG5leHQoKSB7XHJcbiAgICB0aGlzLmFjdGlvbi5lbWl0KCduZXh0Jyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByZXYoKSB7XHJcbiAgICB0aGlzLmFjdGlvbi5lbWl0KCdwcmV2Jyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVNsaWRlcihzdGF0ZTogV29ya2VyU3RhdGUpIHtcclxuICAgIGNvbnN0IG5ld1N0YXRlOiBXb3JrZXJTdGF0ZSA9IHsuLi50aGlzLl9zbGlkaW5nV29ya2VyJC52YWx1ZSwgLi4uc3RhdGV9O1xyXG4gICAgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4gdGhpcy5fc2xpZGluZ1dvcmtlciQubmV4dChuZXdTdGF0ZSkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5U3RhdGUgfSBmcm9tICcuLi9tb2RlbHMvZ2FsbGVyeS5tb2RlbCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktY291bnRlcicsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgY2xhc3M9XCJnLWNvdW50ZXJcIj57eyhzdGF0ZS5jdXJySW5kZXggKyAxKSArICcvJyArIHN0YXRlLml0ZW1zLmxlbmd0aH19PC9kaXY+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeUNvdW50ZXJDb21wb25lbnQge1xyXG4gIEBJbnB1dCgpIHN0YXRlOiBHYWxsZXJ5U3RhdGU7XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIEhvc3RCaW5kaW5nLCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi4vbW9kZWxzL2NvbmZpZy5tb2RlbCc7XHJcbmltcG9ydCB7IExvYWRpbmdTdHJhdGVneSwgR2FsbGVyeUl0ZW1UeXBlIH0gZnJvbSAnLi4vbW9kZWxzL2NvbnN0YW50cyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktaXRlbScsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJsb2FkXCIgW25nU3dpdGNoXT1cInR5cGVcIj5cclxuXHJcbiAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoQ2FzZT1cIlR5cGVzLkltYWdlXCI+XHJcblxyXG4gICAgICAgIDxnYWxsZXJ5LWltYWdlIFtzcmNdPVwiZGF0YS5zcmNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIFttb2RlXT1cImNvbmZpZy5sb2FkaW5nTW9kZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgW2xvYWRpbmdJY29uXT1cImNvbmZpZy5sb2FkaW5nSWNvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgW2xvYWRpbmdFcnJvcl09XCJjb25maWcubG9hZGluZ0Vycm9yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3IpPVwiZXJyb3IuZW1pdCgkZXZlbnQpXCI+PC9nYWxsZXJ5LWltYWdlPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZy10ZW1wbGF0ZSBnLWl0ZW0tdGVtcGxhdGVcIj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJjb25maWcuaXRlbVRlbXBsYXRlO1xyXG4gICAgICAgICAgY29udGV4dDogeyBpbmRleDogdGhpcy5pbmRleCwgY3VyckluZGV4OiB0aGlzLmN1cnJJbmRleCwgdHlwZTogdGhpcy50eXBlLCBkYXRhOiB0aGlzLmRhdGEgfVwiPlxyXG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICAgIDxnYWxsZXJ5LXZpZGVvICpuZ1N3aXRjaENhc2U9XCJUeXBlcy5WaWRlb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgIFtzcmNdPVwiZGF0YS5zcmNcIlxyXG4gICAgICAgICAgICAgICAgICAgICBbcG9zdGVyXT1cImRhdGEucG9zdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgW3BhdXNlXT1cImN1cnJJbmRleCAhPT0gaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAoZXJyb3IpPVwiZXJyb3IuZW1pdCgkZXZlbnQpXCI+PC9nYWxsZXJ5LXZpZGVvPlxyXG5cclxuICAgICAgPGdhbGxlcnktaWZyYW1lICpuZ1N3aXRjaENhc2U9XCJUeXBlcy5Zb3V0dWJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtzcmNdPVwiZGF0YS5zcmNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW3BhdXNlXT1cImN1cnJJbmRleCAhPT0gaW5kZXhcIj48L2dhbGxlcnktaWZyYW1lPlxyXG5cclxuICAgICAgPGdhbGxlcnktaWZyYW1lICpuZ1N3aXRjaENhc2U9XCJUeXBlcy5JZnJhbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW3NyY109XCJkYXRhLnNyY1wiPjwvZ2FsbGVyeS1pZnJhbWU+XHJcblxyXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaERlZmF1bHQ+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnLXRlbXBsYXRlIGctaXRlbS10ZW1wbGF0ZVwiPlxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNvbmZpZy5pdGVtVGVtcGxhdGU7XHJcbiAgICAgICAgICBjb250ZXh0OiB7IGluZGV4OiB0aGlzLmluZGV4LCBjdXJySW5kZXg6IHRoaXMuY3VyckluZGV4LCB0eXBlOiB0aGlzLnR5cGUsIGRhdGE6IHRoaXMuZGF0YSB9XCI+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlJdGVtQ29tcG9uZW50IHtcclxuXHJcbiAgcmVhZG9ubHkgVHlwZXMgPSBHYWxsZXJ5SXRlbVR5cGU7XHJcblxyXG4gIC8qKiBHYWxsZXJ5IGNvbmZpZyAqL1xyXG4gIEBJbnB1dCgpIGNvbmZpZzogR2FsbGVyeUNvbmZpZztcclxuXHJcbiAgLyoqIEl0ZW0ncyBpbmRleCBpbiB0aGUgZ2FsbGVyeSAqL1xyXG4gIEBJbnB1dCgpIGluZGV4OiBudW1iZXI7XHJcblxyXG4gIC8qKiBHYWxsZXJ5IGN1cnJlbnQgaW5kZXggKi9cclxuICBASW5wdXQoKSBjdXJySW5kZXg6IG51bWJlcjtcclxuXHJcbiAgLyoqIEl0ZW0ncyB0eXBlICdpbWFnZScsICd2aWRlbycsICd5b3V0dWJlJywgJ2lmcmFtZScgKi9cclxuICBASW5wdXQoKSB0eXBlOiBzdHJpbmc7XHJcblxyXG4gIC8qKiBJdGVtJ3MgZGF0YSwgdGhpcyBvYmplY3QgY29udGFpbnMgdGhlIGRhdGEgcmVxdWlyZWQgdG8gZGlzcGxheSB0aGUgY29udGVudCAoZS5nLiBzcmMgcGF0aCkgKi9cclxuICBASW5wdXQoKSBkYXRhOiBhbnk7XHJcblxyXG4gIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGFuIGVycm9yIG9jY3VycyAqL1xyXG4gIEBPdXRwdXQoKSBlcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8RXJyb3I+KCk7XHJcblxyXG4gIEBIb3N0QmluZGluZygnY2xhc3MuZy1hY3RpdmUtaXRlbScpIGdldCBpc0FjdGl2ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4ID09PSB0aGlzLmN1cnJJbmRleDtcclxuICB9XHJcblxyXG4gIGdldCBsb2FkKCkge1xyXG4gICAgc3dpdGNoICh0aGlzLmNvbmZpZy5sb2FkaW5nU3RyYXRlZ3kpIHtcclxuICAgICAgY2FzZSBMb2FkaW5nU3RyYXRlZ3kuUHJlbG9hZDpcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgY2FzZSBMb2FkaW5nU3RyYXRlZ3kuTGF6eTpcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJySW5kZXggPT09IHRoaXMuaW5kZXg7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyckluZGV4ID09PSB0aGlzLmluZGV4IHx8IHRoaXMuY3VyckluZGV4ID09PSB0aGlzLmluZGV4IC0gMSB8fCB0aGlzLmN1cnJJbmRleCA9PT0gdGhpcy5pbmRleCArIDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgSG9zdEJpbmRpbmcsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlDb25maWcgfSBmcm9tICcuLi9tb2RlbHMvY29uZmlnLm1vZGVsJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZ2FsbGVyeS10aHVtYicsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxnYWxsZXJ5LWltYWdlIFtzcmNdPVwiZGF0YS50aHVtYlwiIFtpc1RodW1ibmFpbF09XCJ0cnVlXCIgbW9kZT1cImluZGV0ZXJtaW5hdGVcIiAoZXJyb3IpPVwiZXJyb3IuZW1pdCgkZXZlbnQpXCI+PC9nYWxsZXJ5LWltYWdlPlxyXG5cclxuICAgIDxkaXYgKm5nSWY9XCJjb25maWcudGh1bWJUZW1wbGF0ZVwiIGNsYXNzPVwiZy10ZW1wbGF0ZSBnLXRodW1iLXRlbXBsYXRlXCI+XHJcbiAgICAgIDxuZy1jb250YWluZXJcclxuICAgICAgICAqbmdUZW1wbGF0ZU91dGxldD1cImNvbmZpZy50aHVtYlRlbXBsYXRlOyBjb250ZXh0OiB7IGluZGV4OiB0aGlzLmluZGV4LCB0eXBlOiB0aGlzLnR5cGUsIGRhdGE6IHRoaXMuZGF0YSB9XCI+XHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgPC9kaXY+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeVRodW1iQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgY29uZmlnOiBHYWxsZXJ5Q29uZmlnO1xyXG5cclxuICAvKiogSXRlbSdzIGluZGV4IGluIHRoZSBnYWxsZXJ5ICovXHJcbiAgQElucHV0KCkgaW5kZXg6IG51bWJlcjtcclxuXHJcbiAgLyoqIEdhbGxlcnkgY3VycmVudCBpbmRleCAqL1xyXG4gIEBJbnB1dCgpIGN1cnJJbmRleDogbnVtYmVyO1xyXG5cclxuICAvKiogSXRlbSdzIHR5cGUgJ2ltYWdlJywgJ3ZpZGVvJywgJ3lvdXR1YmUnLCAnaWZyYW1lJyAqL1xyXG4gIEBJbnB1dCgpIHR5cGU6IHN0cmluZztcclxuXHJcbiAgLyoqIEl0ZW0ncyBkYXRhLCB0aGlzIG9iamVjdCBjb250YWlucyB0aGUgZGF0YSByZXF1aXJlZCB0byBkaXNwbGF5IHRoZSBjb250ZW50IChlLmcuIHNyYyBwYXRoKSAqL1xyXG4gIEBJbnB1dCgpIGRhdGE6IGFueTtcclxuXHJcbiAgQE91dHB1dCgpIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcjxFcnJvcj4oKTtcclxuXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5nLWFjdGl2ZS10aHVtYicpIGdldCBpc0FjdGl2ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4ID09PSB0aGlzLmN1cnJJbmRleDtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3JhZGlhbC1wcm9ncmVzcycsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgaG9zdDoge1xyXG4gICAgJ1thdHRyLm1vZGVdJzogJ21vZGUnLFxyXG4gICAgJ1tzdHlsZS53aWR0aC5weF0nOiAnZGlhbWV0ZXInLFxyXG4gICAgJ1tzdHlsZS5oZWlnaHQucHhdJzogJ2RpYW1ldGVyJ1xyXG4gIH0sXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxzdmcgY2xhc3M9XCJyYWRpYWwtcHJvZ3Jlc3NcIlxyXG4gICAgICAgICBbc3R5bGUud2lkdGgucHhdPVwiZGlhbWV0ZXJcIlxyXG4gICAgICAgICBbc3R5bGUuaGVpZ2h0LnB4XT1cImRpYW1ldGVyXCJcclxuICAgICAgICAgW2F0dHIudmlld0JveF09XCJ2aWV3Qm94XCJcclxuICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIlxyXG4gICAgICAgICBmb2N1c2FibGU9XCJmYWxzZVwiPlxyXG5cclxuICAgICAgPGNpcmNsZSBjbGFzcz1cInJhZGlhbC1wcm9ncmVzcy1tZXRlclwiXHJcbiAgICAgICAgICAgICAgY3g9XCI1MCVcIlxyXG4gICAgICAgICAgICAgIGN5PVwiNTAlXCJcclxuICAgICAgICAgICAgICBbYXR0ci5yXT1cImNpcmNsZVJhZGl1c1wiXHJcbiAgICAgICAgICAgICAgW3N0eWxlLnN0cm9rZS13aWR0aC4lXT1cImNpcmNsZVN0cm9rZVdpZHRoXCIvPlxyXG5cclxuICAgICAgPGNpcmNsZSBjbGFzcz1cInJhZGlhbC1wcm9ncmVzcy12YWx1ZVwiXHJcbiAgICAgICAgICAgICAgY3g9XCI1MCVcIlxyXG4gICAgICAgICAgICAgIGN5PVwiNTAlXCJcclxuICAgICAgICAgICAgICBbYXR0ci5yXT1cImNpcmNsZVJhZGl1c1wiXHJcbiAgICAgICAgICAgICAgW3N0eWxlLnN0cm9rZS1kYXNob2Zmc2V0LnB4XT1cInN0cm9rZURhc2hPZmZzZXRcIlxyXG4gICAgICAgICAgICAgIFtzdHlsZS5zdHJva2UtZGFzaGFycmF5LnB4XT1cInN0cm9rZUNpcmN1bWZlcmVuY2VcIlxyXG4gICAgICAgICAgICAgIFtzdHlsZS5zdHJva2Utd2lkdGguJV09XCJjaXJjbGVTdHJva2VXaWR0aFwiLz5cclxuICAgIDwvc3ZnPlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIFJhZGlhbFByb2dyZXNzQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgbW9kZTogJ2RldGVybWluYXRlJyB8ICdpbmRldGVybWluYXRlJyA9ICdkZXRlcm1pbmF0ZSc7XHJcbiAgQElucHV0KCkgdmFsdWUgPSAwO1xyXG4gIEBJbnB1dCgpIGRpYW1ldGVyID0gNjA7XHJcbiAgQElucHV0KCkgc3Ryb2tlV2lkdGggPSAzO1xyXG5cclxuICAvKiogVGhlIHJhZGl1cyBvZiB0aGUgc3Bpbm5lciwgYWRqdXN0ZWQgZm9yIHN0cm9rZSB3aWR0aC4gKi9cclxuICBnZXQgY2lyY2xlUmFkaXVzKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmRpYW1ldGVyIC0gdGhpcy5zdHJva2VXaWR0aCkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqIFRoZSB2aWV3IGJveCBvZiB0aGUgc3Bpbm5lcidzIHN2ZyBlbGVtZW50LiAqL1xyXG4gIGdldCB2aWV3Qm94KCkge1xyXG4gICAgY29uc3Qgdmlld0JveCA9IHRoaXMuY2lyY2xlUmFkaXVzICogMiArIHRoaXMuc3Ryb2tlV2lkdGg7XHJcbiAgICByZXR1cm4gYDAgMCAke3ZpZXdCb3h9ICR7dmlld0JveH1gO1xyXG4gIH1cclxuXHJcbiAgLyoqIFRoZSBzdHJva2UgY2lyY3VtZmVyZW5jZSBvZiB0aGUgc3ZnIGNpcmNsZS4gKi9cclxuICBnZXQgc3Ryb2tlQ2lyY3VtZmVyZW5jZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDIgKiBNYXRoLlBJICogdGhpcy5jaXJjbGVSYWRpdXM7XHJcbiAgfVxyXG5cclxuICAvKiogVGhlIGRhc2ggb2Zmc2V0IG9mIHRoZSBzdmcgY2lyY2xlLiAqL1xyXG4gIGdldCBzdHJva2VEYXNoT2Zmc2V0KCkge1xyXG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ2RldGVybWluYXRlJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdHJva2VDaXJjdW1mZXJlbmNlICogKDEwMCAtIHRoaXMudmFsdWUpIC8gMTAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluIGZhbGxiYWNrIG1vZGUgc2V0IHRoZSBjaXJjbGUgdG8gNjAlIGFuZCByb3RhdGUgaXQgd2l0aCBDU1MuXHJcbiAgICBpZiAodGhpcy5tb2RlID09PSAnaW5kZXRlcm1pbmF0ZScpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlQ2lyY3VtZmVyZW5jZSAqIDAuNDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKiBTdHJva2Ugd2lkdGggb2YgdGhlIGNpcmNsZSBpbiBwZXJjZW50LiAqL1xyXG4gIGdldCBjaXJjbGVTdHJva2VXaWR0aCgpIHtcclxuICAgIHJldHVybiB0aGlzLnN0cm9rZVdpZHRoIC8gdGhpcy5kaWFtZXRlciAqIDEwMDtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIE91dHB1dCwgT25EZXN0cm95LCBTaW1wbGVDaGFuZ2VzLCBPbkNoYW5nZXMsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwRXZlbnRUeXBlLCBIdHRwUmVxdWVzdCwgSHR0cEV2ZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHsgU3ViamVjdCwgT2JzZXJ2YWJsZSwgU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb25MaWtlLCB6aXAsIGZyb21FdmVudCwgRU1QVFkgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgdGFwLCBzd2l0Y2hNYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuICBzZWxlY3RvcjogJ1tsYXp5SW1hZ2VdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgTGF6eUltYWdlIGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG5cclxuICBwcml2YXRlIF9pbWFnZUxvYWRlciQgPSBuZXcgU3ViamVjdDxzdHJpbmc+KCk7XHJcbiAgcHJpdmF0ZSBfbG9hZGVyU3ViJDogU3Vic2NyaXB0aW9uTGlrZSA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcclxuXHJcbiAgQElucHV0KCdsYXp5SW1hZ2UnKSBzcmM6IHN0cmluZztcclxuXHJcbiAgQElucHV0KCkgbW9kZTogJ2RldGVybWluYXRlJyB8ICdpbmRldGVybWluYXRlJztcclxuXHJcbiAgQE91dHB1dCgpIHByb2dyZXNzID0gbmV3IEV2ZW50RW1pdHRlcjx7IGxvYWRlZDogbnVtYmVyLCB0b3RhbDogbnVtYmVyIH0+KCk7XHJcbiAgQE91dHB1dCgpIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG4gIEBPdXRwdXQoKSBlcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8RXJyb3I+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkge1xyXG4gICAgdGhpcy5fbG9hZGVyU3ViJCA9IHRoaXMuX2ltYWdlTG9hZGVyJC5waXBlKFxyXG4gICAgICBzd2l0Y2hNYXAoKGltYWdlU3JjOiBzdHJpbmcpID0+IHRoaXMubW9kZSA9PT0gJ2RldGVybWluYXRlJyA/IHRoaXMucHJvZ3Jlc3NpdmVMb2FkZXIoaW1hZ2VTcmMpIDogdGhpcy5uYXRpdmVMb2FkZXIoaW1hZ2VTcmMpKVxyXG4gICAgKS5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGlmIChjaGFuZ2VzWydzcmMnXSAmJiBjaGFuZ2VzWydzcmMnXS5wcmV2aW91c1ZhbHVlICE9PSBjaGFuZ2VzWydzcmMnXS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5zcmMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9sb2FkZXJTdWIkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB0aGlzLl9pbWFnZUxvYWRlciQuY29tcGxldGUoKTtcclxuICB9XHJcblxyXG4gIGxvYWRJbWFnZShpbWFnZVBhdGg6IHN0cmluZykge1xyXG4gICAgdGhpcy5faW1hZ2VMb2FkZXIkLm5leHQoaW1hZ2VQYXRoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgaW1hZ2UgdXNpbmcgSHR0cENsaWVudCwgVGhpcyByZXF1aXJlcyBYSFIgYWNjZXNzIHRvIHRoZSBVUkxcclxuICAgKiBAcGFyYW0gdXJsXHJcbiAgICovXHJcbiAgcHJvZ3Jlc3NpdmVMb2FkZXIodXJsOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgZG93bmxvYWRJbWFnZSA9IG5ldyBIdHRwUmVxdWVzdCgnR0VUJywgdXJsLCB7XHJcbiAgICAgIHJlcG9ydFByb2dyZXNzOiB0cnVlLFxyXG4gICAgICByZXNwb25zZVR5cGU6ICdibG9iJyxcclxuICAgICAgaGVhZGVyczogbmV3IEh0dHBIZWFkZXJzKHsnQ0FDSEVfR0FMTEVSWV9JTUFHRSc6ICd0cnVlJ30pXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChkb3dubG9hZEltYWdlKS5waXBlKFxyXG4gICAgICB0YXAoKGV2ZW50OiBIdHRwRXZlbnQ8c3RyaW5nPikgPT4ge1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gSHR0cEV2ZW50VHlwZS5Eb3dubG9hZFByb2dyZXNzKSB7XHJcbiAgICAgICAgICB0aGlzLnByb2dyZXNzLmVtaXQoe2xvYWRlZDogZXZlbnQubG9hZGVkLCB0b3RhbDogZXZlbnQudG90YWx9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBIdHRwRXZlbnRUeXBlLlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KFVSTC5jcmVhdGVPYmplY3RVUkwoZXZlbnQuYm9keSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0pLFxyXG4gICAgICBjYXRjaEVycm9yKChlcnI6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lcnJvci5lbWl0KGVycik7XHJcbiAgICAgICAgcmV0dXJuIEVNUFRZO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5hdGl2ZSBpbWFnZSBsb2FkZXIsIGRvZXMgbm90IGVtaXQgcHJvZ3Jlc3NcclxuICAgKiBAcGFyYW0gdXJsXHJcbiAgICovXHJcbiAgbmF0aXZlTG9hZGVyKHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgLy8gU3RvcCBwcmV2aW91c2x5IGxvYWRpbmdcclxuICAgIGltZy5zcmMgPSB1cmw7XHJcbiAgICAvLyBJbWFnZSBsb2FkIHN1Y2Nlc3NcclxuICAgIGNvbnN0IGxvYWRTdWNjZXNzID0gZnJvbUV2ZW50KGltZywgJ2xvYWQnKS5waXBlKFxyXG4gICAgICB0YXAoKCkgPT4gdGhpcy5sb2FkZWQuZW1pdCh1cmwpKVxyXG4gICAgKTtcclxuICAgIC8vIEltYWdlIGxvYWQgZmFpbGVkXHJcbiAgICBjb25zdCBsb2FkRXJyb3IgPSBmcm9tRXZlbnQoaW1nLCAnZXJyb3InKS5waXBlKFxyXG4gICAgICB0YXAoKCkgPT4gdGhpcy5lcnJvci5lbWl0KG5ldyBFcnJvcihgW2xhenlJbWFnZV06IFRoZSBpbWFnZSAke3VybH0gZGlkIG5vdCBsb2FkYCkpKVxyXG4gICAgKTtcclxuICAgIHJldHVybiB6aXAobG9hZFN1Y2Nlc3MsIGxvYWRFcnJvcik7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIEluamVjdCwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IGZyb21FdmVudCwgU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb25MaWtlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGZpbHRlciwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5cclxuZGVjbGFyZSBsZXQgSGFtbWVyOiBhbnk7XHJcblxyXG4vKipcclxuICogVGhpcyBkaXJlY3RpdmUgdXNlcyB0YXAgZXZlbnQgaWYgSGFtbWVySlMgaXMgbG9hZGVkLCBvdGhlcndpc2UgaXQgZmFsbHMgYmFjayB0byBub3JtYWwgY2xpY2sgZXZlbnRcclxuICovXHJcbkBEaXJlY3RpdmUoe1xyXG4gIHNlbGVjdG9yOiAnW3RhcENsaWNrXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRhcENsaWNrIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG5cclxuICBwcml2YXRlIGhhbW1lcjogYW55O1xyXG4gIGNsaWNrTGlzdGVuZXI6IFN1YnNjcmlwdGlvbkxpa2UgPSBTdWJzY3JpcHRpb24uRU1QVFk7XHJcbiAgQElucHV0KCkgdGFwQ2xpY2tEaXNhYmxlZDogYm9vbGVhbjtcclxuICBAT3V0cHV0KCkgdGFwQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsIEBJbmplY3QoRE9DVU1FTlQpIGRvY3VtZW50OiBhbnkpIHtcclxuICAgIEhhbW1lciA9ICg8YW55PmRvY3VtZW50LmRlZmF1bHRWaWV3KS5IYW1tZXI7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuYWN0aXZhdGVDbGlja0V2ZW50KCk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZUNsaWNrRXZlbnQoKSB7XHJcbiAgICBpZiAoSGFtbWVyKSB7XHJcbiAgICAgIC8vIFVzZSBIYW1tZXIuanMgdGFwIGV2ZW50XHJcbiAgICAgIHRoaXMuaGFtbWVyID0gbmV3IEhhbW1lcih0aGlzLmVsLm5hdGl2ZUVsZW1lbnQpO1xyXG4gICAgICB0aGlzLmhhbW1lci5vbigndGFwJywgKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy50YXBDbGlja0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICB0aGlzLnRhcENsaWNrLmVtaXQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFVzZSBub3JtYWwgY2xpY2sgZXZlbnRcclxuICAgICAgdGhpcy5jbGlja0xpc3RlbmVyID0gZnJvbUV2ZW50KHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ2NsaWNrJykucGlwZShcclxuICAgICAgICBmaWx0ZXIoKCkgPT4gIXRoaXMudGFwQ2xpY2tEaXNhYmxlZCksXHJcbiAgICAgICAgdGFwKCgpID0+IHRoaXMudGFwQ2xpY2suZW1pdChudWxsKSlcclxuICAgICAgKS5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgaWYgKHRoaXMuaGFtbWVyKSB7XHJcbiAgICAgIHRoaXMuaGFtbWVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2xpY2tMaXN0ZW5lci51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEh0dHBSZXF1ZXN0LCBIdHRwUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RDYWNoZUVudHJ5IHtcclxuICB1cmw6IHN0cmluZztcclxuICByZXNwb25zZTogSHR0cFJlc3BvbnNlPGFueT47XHJcbiAgbGFzdFJlYWQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlcXVlc3RDYWNoZSB7XHJcbiAgYWJzdHJhY3QgZ2V0KHJlcTogSHR0cFJlcXVlc3Q8YW55Pik6IEh0dHBSZXNwb25zZTxhbnk+IHwgdW5kZWZpbmVkO1xyXG5cclxuICBhYnN0cmFjdCBwdXQocmVxOiBIdHRwUmVxdWVzdDxhbnk+LCByZXNwb25zZTogSHR0cFJlc3BvbnNlPGFueT4pOiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBtYXhBZ2UgPSAzMDAwMDsgLy8gbWF4aW11bSBjYWNoZSBhZ2UgKG1zKVxyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgUmVxdWVzdENhY2hlV2l0aE1hcCBpbXBsZW1lbnRzIFJlcXVlc3RDYWNoZSB7XHJcbiAgY2FjaGUgPSBuZXcgTWFwPHN0cmluZywgUmVxdWVzdENhY2hlRW50cnk+KCk7XHJcblxyXG4gIGdldChyZXE6IEh0dHBSZXF1ZXN0PGFueT4pOiBIdHRwUmVzcG9uc2U8YW55PiB8IHVuZGVmaW5lZCB7XHJcbiAgICBjb25zdCB1cmwgPSByZXEudXJsV2l0aFBhcmFtcztcclxuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuY2FjaGUuZ2V0KHVybCk7XHJcblxyXG4gICAgaWYgKCFjYWNoZWQpIHtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIHJldHVybiBjYWNoZWQucmVzcG9uc2U7XHJcbiAgfVxyXG5cclxuICBwdXQocmVxOiBIdHRwUmVxdWVzdDxhbnk+LCByZXNwb25zZTogSHR0cFJlc3BvbnNlPGFueT4pOiB2b2lkIHtcclxuICAgIGNvbnN0IHVybCA9IHJlcS51cmxXaXRoUGFyYW1zO1xyXG5cclxuICAgIGNvbnN0IGVudHJ5ID0ge3VybCwgcmVzcG9uc2UsIGxhc3RSZWFkOiBEYXRlLm5vdygpfTtcclxuICAgIHRoaXMuY2FjaGUuc2V0KHVybCwgZW50cnkpO1xyXG5cclxuICAgIC8vIHJlbW92ZSBleHBpcmVkIGNhY2hlIGVudHJpZXNcclxuICAgIGNvbnN0IGV4cGlyZWQgPSBEYXRlLm5vdygpIC0gbWF4QWdlO1xyXG4gICAgdGhpcy5jYWNoZS5mb3JFYWNoKChlbnRyeTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChlbnRyeS5sYXN0UmVhZCA8IGV4cGlyZWQpIHtcclxuICAgICAgICB0aGlzLmNhY2hlLmRlbGV0ZShlbnRyeS51cmwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBIdHRwRXZlbnQsIEh0dHBIYW5kbGVyLCBIdHRwUmVxdWVzdCwgSHR0cFJlc3BvbnNlLCBIdHRwSW50ZXJjZXB0b3IgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcblxyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBzdGFydFdpdGgsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3RDYWNoZSB9IGZyb20gJy4vY2FjaGUuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogSWYgcmVxdWVzdCBpcyBjYWNoYWJsZSAoZS5nLiwgcGFja2FnZSBzZWFyY2gpIGFuZFxyXG4gKiByZXNwb25zZSBpcyBpbiBjYWNoZSByZXR1cm4gdGhlIGNhY2hlZCByZXNwb25zZSBhcyBvYnNlcnZhYmxlLlxyXG4gKlxyXG4gKiBJZiBub3QgaW4gY2FjaGUgb3Igbm90IGNhY2hhYmxlLFxyXG4gKiBwYXNzIHJlcXVlc3QgdGhyb3VnaCB0byBuZXh0KClcclxuICovXHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBDYWNoaW5nSW50ZXJjZXB0b3IgaW1wbGVtZW50cyBIdHRwSW50ZXJjZXB0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FjaGU6IFJlcXVlc3RDYWNoZSkge1xyXG4gIH1cclxuXHJcbiAgaW50ZXJjZXB0KHJlcTogSHR0cFJlcXVlc3Q8YW55PiwgbmV4dDogSHR0cEhhbmRsZXIpIHtcclxuICAgIGlmIChyZXEuaGVhZGVycy5oYXMoJ0NBQ0hFX0dBTExFUllfSU1BR0UnKSAmJiBpc0NhY2hhYmxlKHJlcSkpIHtcclxuXHJcbiAgICAgIGNvbnN0IGNhY2hlZFJlc3BvbnNlID0gdGhpcy5jYWNoZS5nZXQocmVxKTtcclxuXHJcbiAgICAgIC8vIGNhY2hlLXRoZW4tcmVmcmVzaFxyXG4gICAgICBpZiAocmVxLmhlYWRlcnMuZ2V0KCd4LXJlZnJlc2gnKSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHMkID0gc2VuZFJlcXVlc3QocmVxLCBuZXh0LCB0aGlzLmNhY2hlKTtcclxuICAgICAgICByZXR1cm4gY2FjaGVkUmVzcG9uc2VcclxuICAgICAgICAgID8gcmVzdWx0cyQucGlwZShzdGFydFdpdGgoY2FjaGVkUmVzcG9uc2UpKVxyXG4gICAgICAgICAgOiByZXN1bHRzJDtcclxuICAgICAgfVxyXG4gICAgICAvLyBjYWNoZS1vci1mZXRjaFxyXG4gICAgICByZXR1cm4gY2FjaGVkUmVzcG9uc2VcclxuICAgICAgICA/IG9mKGNhY2hlZFJlc3BvbnNlKVxyXG4gICAgICAgIDogc2VuZFJlcXVlc3QocmVxLCBuZXh0LCB0aGlzLmNhY2hlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0LmhhbmRsZShyZXEpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqIElzIHRoaXMgcmVxdWVzdCBjYWNoYWJsZT8gKi9cclxuZnVuY3Rpb24gaXNDYWNoYWJsZShyZXE6IEh0dHBSZXF1ZXN0PGFueT4pIHtcclxuICAvLyBPbmx5IEdFVCByZXF1ZXN0cyBhcmUgY2FjaGFibGVcclxuICByZXR1cm4gcmVxLm1ldGhvZCA9PT0gJ0dFVCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgc2VydmVyIHJlc3BvbnNlIG9ic2VydmFibGUgYnkgc2VuZGluZyByZXF1ZXN0IHRvIGBuZXh0KClgLlxyXG4gKiBXaWxsIGFkZCB0aGUgcmVzcG9uc2UgdG8gdGhlIGNhY2hlIG9uIHRoZSB3YXkgb3V0LlxyXG4gKi9cclxuZnVuY3Rpb24gc2VuZFJlcXVlc3QocmVxOiBIdHRwUmVxdWVzdDxhbnk+LCBuZXh0OiBIdHRwSGFuZGxlciwgY2FjaGU6IFJlcXVlc3RDYWNoZSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+IHtcclxuICBjb25zdCByZXF1ZXN0ID0gcmVxLmNsb25lKHtoZWFkZXJzOiByZXEuaGVhZGVycy5kZWxldGUoJ0NBQ0hFX0dBTExFUllfSU1BR0UnKX0pO1xyXG4gIHJldHVybiBuZXh0LmhhbmRsZShyZXF1ZXN0KS5waXBlKFxyXG4gICAgdGFwKGV2ZW50ID0+IHtcclxuICAgICAgLy8gVGhlcmUgbWF5IGJlIG90aGVyIGV2ZW50cyBiZXNpZGVzIHRoZSByZXNwb25zZS5cclxuICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgSHR0cFJlc3BvbnNlKSB7XHJcbiAgICAgICAgY2FjaGUucHV0KHJlcSwgZXZlbnQpOyAvLyBVcGRhdGUgdGhlIGNhY2hlLlxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICk7XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgSFRUUF9JTlRFUkNFUFRPUlMsIEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcblxyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnLCBHQUxMRVJZX0NPTkZJRyB9IGZyb20gJy4vbW9kZWxzL2NvbmZpZy5tb2RlbCc7XHJcblxyXG5pbXBvcnQgeyBHYWxsZXJ5Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2dhbGxlcnkuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeU5hdkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9nYWxsZXJ5LW5hdi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29yZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9nYWxsZXJ5LWNvcmUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeURvdHNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS1kb3RzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEdhbGxlcnlUaHVtYnNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS10aHVtYnMuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeVNsaWRlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9nYWxsZXJ5LXNsaWRlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q291bnRlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9nYWxsZXJ5LWNvdW50ZXIuY29tcG9uZW50JztcclxuXHJcbmltcG9ydCB7IEdhbGxlcnlJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2dhbGxlcnktaXRlbS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5VGh1bWJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS10aHVtYi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5SW1hZ2VDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdGVtcGxhdGVzL2dhbGxlcnktaW1hZ2UuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeVZpZGVvQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RlbXBsYXRlcy9nYWxsZXJ5LXZpZGVvLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEdhbGxlcnlJZnJhbWVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdGVtcGxhdGVzL2dhbGxlcnktaWZyYW1lLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFJhZGlhbFByb2dyZXNzQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RlbXBsYXRlcy9yYWRpYWwtcHJvZ3Jlc3MuY29tcG9uZW50JztcclxuXHJcbmltcG9ydCB7IExhenlJbWFnZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9sYXp5LWltYWdlJztcclxuaW1wb3J0IHsgVGFwQ2xpY2sgfSBmcm9tICcuL2RpcmVjdGl2ZXMvdGFwLWNsaWNrJztcclxuaW1wb3J0IHsgQ2FjaGluZ0ludGVyY2VwdG9yIH0gZnJvbSAnLi9zZXJ2aWNlcy9jYWNoZS5pbnRlcmNlcHRvcic7XHJcbmltcG9ydCB7IFJlcXVlc3RDYWNoZSwgUmVxdWVzdENhY2hlV2l0aE1hcCB9IGZyb20gJy4vc2VydmljZXMvY2FjaGUuc2VydmljZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIENvbW1vbk1vZHVsZSxcclxuICAgIEh0dHBDbGllbnRNb2R1bGVcclxuICBdLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAge3Byb3ZpZGU6IFJlcXVlc3RDYWNoZSwgdXNlQ2xhc3M6IFJlcXVlc3RDYWNoZVdpdGhNYXB9LFxyXG4gICAge3Byb3ZpZGU6IEhUVFBfSU5URVJDRVBUT1JTLCB1c2VDbGFzczogQ2FjaGluZ0ludGVyY2VwdG9yLCBtdWx0aTogdHJ1ZX1cclxuICBdLFxyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgR2FsbGVyeUNvbXBvbmVudCxcclxuICAgIEdhbGxlcnlOYXZDb21wb25lbnQsXHJcbiAgICBHYWxsZXJ5RG90c0NvbXBvbmVudCxcclxuICAgIEdhbGxlcnlDb3JlQ29tcG9uZW50LFxyXG4gICAgR2FsbGVyeVNsaWRlckNvbXBvbmVudCxcclxuICAgIEdhbGxlcnlDb3VudGVyQ29tcG9uZW50LFxyXG4gICAgR2FsbGVyeVRodW1ic0NvbXBvbmVudCxcclxuICAgIEdhbGxlcnlUaHVtYkNvbXBvbmVudCxcclxuICAgIEdhbGxlcnlJdGVtQ29tcG9uZW50LFxyXG4gICAgR2FsbGVyeUltYWdlQ29tcG9uZW50LFxyXG4gICAgR2FsbGVyeVZpZGVvQ29tcG9uZW50LFxyXG4gICAgR2FsbGVyeUlmcmFtZUNvbXBvbmVudCxcclxuICAgIFJhZGlhbFByb2dyZXNzQ29tcG9uZW50LFxyXG4gICAgTGF6eUltYWdlLFxyXG4gICAgVGFwQ2xpY2tcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIEdhbGxlcnlDb21wb25lbnQsXHJcbiAgICBMYXp5SW1hZ2UsXHJcbiAgICBUYXBDbGljayxcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5TW9kdWxlIHtcclxuICBzdGF0aWMgd2l0aENvbmZpZyhjb25maWc6IEdhbGxlcnlDb25maWcpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuZ01vZHVsZTogR2FsbGVyeU1vZHVsZSxcclxuICAgICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcHJvdmlkZTogR0FMTEVSWV9DT05GSUcsXHJcbiAgICAgICAgICB1c2VWYWx1ZTogY29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZmlsdGVyIiwiU3ViamVjdCIsIkJlaGF2aW9yU3ViamVjdCIsInN3aXRjaE1hcCIsIm9mIiwiZGVsYXkiLCJ0YXAiLCJFTVBUWSIsIkluamVjdGlvblRva2VuIiwiSW5qZWN0YWJsZSIsIk9wdGlvbmFsIiwiSW5qZWN0IiwiRXZlbnRFbWl0dGVyIiwiU3Vic2NyaXB0aW9uIiwiQ29tcG9uZW50IiwiQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJJbnB1dCIsIk91dHB1dCIsIkRvbVNhbml0aXplciIsIlZpZXdDaGlsZCIsImFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIiwidHJpZ2dlciIsInRyYW5zaXRpb24iLCJzdHlsZSIsImFuaW1hdGUiLCJIb3N0QmluZGluZyIsIm1hcCIsIkVsZW1lbnRSZWYiLCJOZ1pvbmUiLCJpc1BsYXRmb3JtQnJvd3NlciIsImZyb21FdmVudCIsImRlYm91bmNlVGltZSIsIlBMQVRGT1JNX0lEIiwiaHR0cCIsIkh0dHBSZXF1ZXN0IiwiSHR0cEhlYWRlcnMiLCJIdHRwRXZlbnRUeXBlIiwiY2F0Y2hFcnJvciIsInppcCIsIkRpcmVjdGl2ZSIsIkh0dHBDbGllbnQiLCJET0NVTUVOVCIsInN0YXJ0V2l0aCIsIkh0dHBSZXNwb25zZSIsIk5nTW9kdWxlIiwiQ29tbW9uTW9kdWxlIiwiSHR0cENsaWVudE1vZHVsZSIsIkhUVFBfSU5URVJDRVBUT1JTIl0sIm1hcHBpbmdzIjoiOzs7Ozs7SUFBQTs7Ozs7Ozs7Ozs7Ozs7QUFjQSxJQWVPLElBQUksUUFBUSxHQUFHO1FBQ2xCLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxJQUFJLFNBQVMsUUFBUSxDQUFDLENBQUM7WUFDM0MsS0FBSyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2pELENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztv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